import{i as o,o as c,d as B,b as e,w as t,D as G,f as i,a as h,t as b,h as ee,U as te,r as u,k as U,V as P,W as oe,G as ne,z as se,c as k,g as R,F as A,e as D,q as le,u as ae,X as ie}from"./app-Ck9fyv4x.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";const re=()=>{te.Inertia.post(route("logout"))},ue={data:()=>({fav:!0,menu:!1,message:!1,hints:!0}),methods:{logout:re}},ce={class:"text-center"},de={class:"font-medium text-base text-gray-800"},me={class:"font-medium text-sm text-gray-500"};function _e(d,a,p,y,x,v){const m=o("v-icon"),f=o("v-btn"),V=o("v-divider"),S=o("v-list"),g=o("v-spacer"),w=o("v-card-actions"),C=o("v-card"),s=o("v-menu");return c(),B("div",ce,[e(s,{modelValue:d.menu,"onUpdate:modelValue":a[2]||(a[2]=n=>d.menu=n),"close-on-content-click":!1,location:"top"},{activator:t(({props:n})=>[e(f,G({color:"indigo"},n),{default:t(()=>[e(m,{left:""},{default:t(()=>[i("mdi-account")]),_:1})]),_:2},1040)]),default:t(()=>[e(C,{"min-width":"300"},{default:t(()=>[e(V),e(S,null,{default:t(()=>[h("div",null,[h("div",de,b(d.$page.props.auth.user.name),1),h("div",me,b(d.$page.props.auth.user.email),1)])]),_:1}),e(w,null,{default:t(()=>[e(g),e(f,{variant:"text",onClick:a[0]||(a[0]=n=>d.menu=!1)},{default:t(()=>[i("Close")]),_:1}),h("form",{method:"POST",onSubmit:a[1]||(a[1]=ee((...n)=>v.logout&&v.logout(...n),["prevent"]))},[e(f,{color:"primary",variant:"text",type:"submit"},{default:t(()=>[e(m,{left:""},{default:t(()=>[i("mdi-exit-to-app")]),_:1}),i(" Sign out ")]),_:1})],32)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const pe=I(ue,[["render",_e]]),ve={__name:"AppLayout",setup(d){const a=u(!0),p=u([]),y=u(!1),x=u(""),v=u(null);u(null);const m=u(null),f=U(()=>P().props.value.user.roles),V=U(()=>P().props.value.user.permissions);oe(()=>{m.value&&(m.value.disconnect(),m.value=null)}),ne(()=>{loadWebRTCScript()});const S=s=>{const n=p.value.indexOf(s);n===-1?p.value.push(s):p.value.splice(n,1)},g=s=>p.value.includes(s),w=se([{title:"Dashboard",icon:"mdi-view-dashboard",items:[{route:"dashboard",icon:"mdi-view-dashboard-outline",title:"Dashboard"}]},{title:"Call Center",icon:"mdi-file-document-outline",items:[{route:"sector",icon:"mdi-domain",title:"Sector",permission:"view sectors"},{route:"orders",icon:"mdi-file-document-multiple-outline",title:"Orders"}]},{title:"Users",icon:"mdi-account-circle-outline",items:[{route:"user",icon:"mdi-account-group-outline",title:"User",permission:"view users"},{route:"user-roles",icon:"mdi-account-key-outline",title:"User Roles",role:"SuperAdmin"},{route:"permissions",icon:"mdi-account-key-outline",title:"Permissions",role:"SuperAdmin"}]},{title:"Reports",icon:"mdi-chart-box-outline",items:[{route:"reports",icon:"mdi-account-key-outline",title:"Reports"}]},{title:"Branches",icon:"mdi-map-marker-outline",items:[{route:"branches",icon:"mdi-map-marker-radius-outline",title:"Branches",permission:"view branches"}]}]),C=U(()=>w.filter(s=>(s.items=s.items.filter(n=>{const $=n.permission?V.value.includes(n.permission):!0,_=n.role?f.value.includes(n.role):!0;return $&&_}),s.items.length>0)));return(s,n)=>{const $=o("v-img"),_=o("v-list-item"),L=o("v-icon"),M=o("v-list-item-title"),N=o("v-list-group"),O=o("v-list"),T=o("v-navigation-drawer"),E=o("v-app-bar-nav-icon"),F=o("v-toolbar-title"),W=o("v-spacer"),j=o("v-chip"),q=o("v-badge"),z=o("v-btn"),X=o("v-app-bar"),H=o("v-progress-circular"),J=o("v-overlay"),K=o("v-main"),Q=o("v-app");return c(),k(Q,null,{default:t(()=>[e(T,{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=l=>a.value=l),app:"",color:"black"},{default:t(()=>[e(_,null,{default:t(()=>[e($,{src:"path/to/logo.png",alt:"Logo",height:"60",contain:""})]),_:1}),e(O,{density:"compact",id:"layout"},{default:t(()=>[(c(!0),B(A,null,R(C.value,(l,Y)=>(c(),k(_,{key:Y},{default:t(()=>[e(N,{value:l.title,color:"info","prepend-icon":l.icon,open:g(l.title),onClick:r=>S(l.title)},{activator:t(({props:r})=>[e(_,G(r,{title:l.title}),null,16,["title"])]),default:t(()=>[g(l.title)?(c(!0),B(A,{key:0},R(l.items,(r,Z)=>(c(),k(ae(ie),{key:Z,href:s.route(r.route),class:"text-decoration-none"},{default:t(()=>[e(_,{value:r.route,color:"info"},{prepend:t(()=>[e(L,null,{default:t(()=>[i(b(r.icon),1)]),_:2},1024)]),default:t(()=>[e(M,null,{default:t(()=>[i(b(r.title),1)]),_:2},1024)]),_:2},1032,["value"])]),_:2},1032,["href"]))),128)):D("",!0)]),_:2},1032,["value","prepend-icon","open","onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),e(X,{app:""},{default:t(()=>[e(E,{onClick:n[1]||(n[1]=l=>a.value=!a.value)}),e(F,null,{default:t(()=>[i("Customer Service Support System")]),_:1}),e(W),x.value?(c(),k(j,{key:0,color:v.value?"error":"success",class:"mx-2"},{default:t(()=>[i(b(v.value||x.value),1)]),_:1},8,["color"])):D("",!0),e(pe),e(z,{icon:"mdi-bell"},{default:t(()=>[e(q,{dot:"",color:"error"},{default:t(()=>[e(L,null,{default:t(()=>[i("mdi-bell")]),_:1})]),_:1})]),_:1})]),_:1}),e(K,null,{default:t(()=>[e(J,{modelValue:y.value,"onUpdate:modelValue":n[2]||(n[2]=l=>y.value=l),class:"align-center justify-center"},{default:t(()=>[e(H,{indeterminate:""})]),_:1},8,["modelValue"]),le(s.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}},ge=I(ve,[["__scopeId","data-v-d264152e"]]);export{ge as A};
