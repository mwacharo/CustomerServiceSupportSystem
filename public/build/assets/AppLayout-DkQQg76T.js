import{i as o,o as m,d as C,b as e,w as t,C as L,f as u,a as g,t as k,h as j,S as z,r as $,k as x,U as B,y as H,c as w,g as P,F as U,q as J,u as K,V as Q,e as W}from"./app-BC52LmwV.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Y=()=>{z.Inertia.post(route("logout"))},Z={data:()=>({fav:!0,menu:!1,message:!1,hints:!0}),methods:{logout:Y}},ee={class:"text-center"},te={class:"font-medium text-base text-gray-800"},oe={class:"font-medium text-sm text-gray-500"};function ne(d,i,_,S,V,b){const p=o("v-icon"),v=o("v-btn"),y=o("v-divider"),s=o("v-list"),n=o("v-spacer"),f=o("v-card-actions"),a=o("v-card"),h=o("v-menu");return m(),C("div",ee,[e(h,{modelValue:d.menu,"onUpdate:modelValue":i[2]||(i[2]=r=>d.menu=r),"close-on-content-click":!1,location:"top"},{activator:t(({props:r})=>[e(v,L({color:"indigo"},r),{default:t(()=>[e(p,{left:""},{default:t(()=>[u("mdi-account")]),_:1})]),_:2},1040)]),default:t(()=>[e(a,{"min-width":"300"},{default:t(()=>[e(y),e(s,null,{default:t(()=>[g("div",null,[g("div",te,k(d.$page.props.auth.user.name),1),g("div",oe,k(d.$page.props.auth.user.email),1)])]),_:1}),e(f,null,{default:t(()=>[e(n),e(v,{variant:"text",onClick:i[0]||(i[0]=r=>d.menu=!1)},{default:t(()=>[u("Close")]),_:1}),g("form",{method:"POST",onSubmit:i[1]||(i[1]=j((...r)=>b.logout&&b.logout(...r),["prevent"]))},[e(v,{color:"primary",variant:"text",type:"submit"},{default:t(()=>[e(p,{left:""},{default:t(()=>[u("mdi-exit-to-app")]),_:1}),u(" Sign out ")]),_:1})],32)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const se=X(Z,[["render",ne]]),ae={__name:"AppLayout",setup(d){const i=$(!0),_=$([]),S=x(()=>B().props.value.user.roles),V=x(()=>B().props.value.user.permissions),b=s=>{const n=_.value.indexOf(s);n===-1?_.value.push(s):_.value.splice(n,1)},p=s=>_.value.includes(s),v=H([{title:"Dashboard",icon:"mdi-view-dashboard",items:[{route:"dashboard",icon:"mdi-view-dashboard-outline",title:"Dashboard"}]},{title:"Call Center",icon:"mdi-file-document-outline",items:[{route:"sector",icon:"mdi-domain",title:"Sector",permission:"view sectors"},{route:"orders",icon:"mdi-file-document-multiple-outline",title:"Orders"}]},{title:"Users",icon:"mdi-account-circle-outline",items:[{route:"user",icon:"mdi-account-group-outline",title:"User",permission:"view users"},{route:"user-roles",icon:"mdi-account-key-outline",title:"User Roles",role:"SuperAdmin"},{route:"permissions",icon:"mdi-account-key-outline",title:"Permissions",role:"SuperAdmin"}]},{title:"Reports",icon:"mdi-chart-box-outline",items:[{route:"reports",icon:"mdi-account-key-outline",title:"Reports"}]},{title:"Branches",icon:"mdi-map-marker-outline",items:[{route:"branches",icon:"mdi-map-marker-radius-outline",title:"Branches",permission:"view branches"}]}]),y=x(()=>v.filter(s=>(s.items=s.items.filter(n=>{const f=n.permission?V.value.includes(n.permission):!0,a=n.role?S.value.includes(n.role):!0;return f&&a}),s.items.length>0)));return(s,n)=>{const f=o("v-img"),a=o("v-list-item"),h=o("v-icon"),r=o("v-list-item-title"),R=o("v-list-group"),A=o("v-list"),D=o("v-navigation-drawer"),G=o("v-app-bar-nav-icon"),I=o("v-toolbar-title"),N=o("v-spacer"),O=o("v-btn"),E=o("v-app-bar"),F=o("v-main"),M=o("v-app");return m(),w(M,null,{default:t(()=>[e(D,{modelValue:i.value,"onUpdate:modelValue":n[0]||(n[0]=l=>i.value=l),app:"",color:"black"},{default:t(()=>[e(a,null,{default:t(()=>[e(f,{src:"path/to/logo.png",alt:"Logo",height:"60",contain:""})]),_:1}),e(A,{density:"compact",id:"layout"},{default:t(()=>[(m(!0),C(U,null,P(y.value,(l,T)=>(m(),w(a,{key:T},{default:t(()=>[e(R,{value:l.title,color:"info","prepend-icon":l.icon,open:p(l.title),onClick:c=>b(l.title)},{activator:t(({props:c})=>[e(a,L(c,{title:l.title}),null,16,["title"])]),default:t(()=>[p(l.title)?(m(!0),C(U,{key:0},P(l.items,(c,q)=>(m(),w(K(Q),{key:q,href:s.route(c.route)},{default:t(()=>[e(a,{value:c.route,color:"info"},{prepend:t(()=>[e(h,null,{default:t(()=>[u(k(c.icon),1)]),_:2},1024)]),default:t(()=>[e(r,null,{default:t(()=>[u(k(c.title),1)]),_:2},1024)]),_:2},1032,["value"])]),_:2},1032,["href"]))),128)):W("",!0)]),_:2},1032,["value","prepend-icon","open","onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),e(E,{app:""},{default:t(()=>[e(G,{onClick:n[1]||(n[1]=l=>i.value=!i.value)}),e(I,null,{default:t(()=>[u("Customer Service Support System")]),_:1}),e(N),e(O,{icon:"mdi-bell"},{default:t(()=>[e(se)]),_:1}),e(h,{class:"mx-2"},{default:t(()=>[u("mdi-bell")]),_:1})]),_:1}),e(F,null,{default:t(()=>[J(s.$slots,"default")]),_:3})]),_:3})}}};export{ae as _};
