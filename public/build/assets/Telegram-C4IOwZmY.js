import{Z as X}from"./index.esm-fC_IxDG4.js";import{A as Y}from"./AppLayout-Cpkio6Ph.js";import{r as i,y as ee,i as s,o as w,c as P,w as t,b as e,u as te,f as o,t as u,a as n,d as A,g as le,F as ae}from"./app-ByC0pM_P.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ne=n("h2",{class:"text-h6"},"Telegram Messaging",-1),oe=n("div",{class:"text-subtitle-2"},"Sent",-1),se={class:"text-h6"},ue=n("div",{class:"text-subtitle-2"},"Delivered",-1),ie={class:"text-h6"},de=n("div",{class:"text-subtitle-2"},"Read",-1),re={class:"text-h6"},ce=n("div",{class:"text-subtitle-2"},"Failed",-1),me={class:"text-h6"},ve=n("div",null,"Message History",-1),pe=n("thead",null,[n("tr",null,[n("th",null,"Message"),n("th",null,"Recipients"),n("th",null,"Status"),n("th",null,"Attachments"),n("th",null,"Sent Date"),n("th",null,"Actions")])],-1),_e={key:1},we={__name:"Telegram",setup(fe){const N=i(""),V=i([]),z=i([]),v=i([]),c=i(""),_=i([]),x=i(!1),f=i(!1),h=i(!1),C=i([]),m=i({name:"",content:""}),B=i("Connected"),k=i({sent:342,delivered:339,read:301,failed:3}),E=()=>{z.value=[{id:1,name:"John Doe",username:"@johndoe",phone:"+254712345678",status:"Active"},{id:2,name:"Jane Smith",username:"@janesmith",phone:"+254723456789",status:"Active"},{id:3,name:"Robert Brown",username:"@robbrown",phone:"+254734567890",status:"Inactive"},{id:4,name:"Sarah Wilson",username:"@sarahw",phone:"+254745678901",status:"Active"}]},J=()=>{_.value=[{id:1,name:"Welcome Message",content:`Hello {{name}},

Welcome to our service! We are excited to have you on board.

Best regards,
The Team`},{id:2,name:"Payment Reminder",content:`Dear {{name}},

This is a friendly reminder about your payment of KES {{amount}} due on {{date}}.

Regards,
Finance Department`},{id:3,name:"Daily Update",content:`Hello {{name}},

Here are your updates for {{date}}:

{{updates}}

Thank you for your continued support.

Best regards,
Customer Service Team`}]},L=r=>{c.value=r.content},q=()=>{_.value.push({id:_.value.length+1,...m.value}),m.value={name:"",content:""},h.value=!1},G=()=>{alert(`Sending message to ${v.value.length} recipients`);const r=new Date;V.value.unshift({id:V.value.length+1,content:c.value,recipients:v.value.length,status:"Sent",has_attachments:C.value.length>0,sent_at:r.toISOString().slice(0,10),preview:c.value.substring(0,50)+(c.value.length>50?"...":"")}),c.value="",v.value=[],C.value=[],f.value=!1};return ee(()=>{V.value=[{id:1,preview:"Hello everyone! Check out our new April promotions...",content:"Hello everyone! Check out our new April promotions with special discounts for loyal customers.",recipients:153,status:"Delivered",has_attachments:!0,sent_at:"2025-04-19"},{id:2,content:"Notification about our app maintenance scheduled for tomorrow from 2-4 PM EAT.",preview:"Notification about our app maintenance scheduled...",recipients:98,status:"Sent",has_attachments:!1,sent_at:"2025-04-18"},{id:3,content:"We've just released new features in our platform! Try out the improved dashboard and let us know what you think.",preview:"We've just released new features in our platform!...",recipients:215,status:"Delivered",has_attachments:!0,sent_at:"2025-04-17"},{id:4,content:"Please verify your account by clicking the link we sent to your email.",preview:"Please verify your account by clicking the link...",recipients:5,status:"Read",has_attachments:!1,sent_at:"2025-04-16"}],E(),J()}),(r,a)=>{const y=s("v-icon"),K=s("v-avatar"),S=s("v-chip"),R=s("v-divider"),p=s("v-col"),I=s("v-row"),d=s("v-btn"),g=s("v-card-text"),b=s("v-card"),$=s("v-text-field"),T=s("v-card-title"),O=s("v-table"),Z=s("v-container"),j=s("v-select"),H=s("v-textarea"),W=s("v-file-input"),D=s("v-spacer"),M=s("v-card-actions"),U=s("v-dialog"),F=s("v-alert");return w(),P(Y,null,{default:t(()=>[e(te(X),{title:"Telegram"}),e(Z,null,{default:t(()=>[e(I,null,{default:t(()=>[e(p,{cols:"12",md:"3"},{default:t(()=>[e(b,null,{default:t(()=>[e(g,{class:"text-center"},{default:t(()=>[e(K,{size:"80",color:"primary",class:"mb-3"},{default:t(()=>[e(y,{size:"48",color:"white"},{default:t(()=>[o("mdi-telegram")]),_:1})]),_:1}),ne,e(S,{color:B.value==="Connected"?"success":"error",class:"mt-2"},{default:t(()=>[o(u(B.value),1)]),_:1},8,["color"]),e(R,{class:"my-4"}),e(I,null,{default:t(()=>[e(p,{cols:"6",class:"py-1"},{default:t(()=>[oe,n("div",se,u(k.value.sent),1)]),_:1}),e(p,{cols:"6",class:"py-1"},{default:t(()=>[ue,n("div",ie,u(k.value.delivered),1)]),_:1}),e(p,{cols:"6",class:"py-1"},{default:t(()=>[de,n("div",re,u(k.value.read),1)]),_:1}),e(p,{cols:"6",class:"py-1"},{default:t(()=>[ce,n("div",me,u(k.value.failed),1)]),_:1})]),_:1}),e(R,{class:"my-4"}),e(d,{color:"primary",block:"",onClick:a[0]||(a[0]=l=>f.value=!0)},{default:t(()=>[o(" New Message ")]),_:1}),e(d,{color:"secondary",block:"",class:"mt-2",onClick:a[1]||(a[1]=l=>h.value=!0)},{default:t(()=>[o(" Create Template ")]),_:1}),e(d,{color:"info",block:"",class:"mt-2",onClick:a[2]||(a[2]=l=>x.value=!0)},{default:t(()=>[o(" Import Contacts ")]),_:1})]),_:1})]),_:1})]),_:1}),e(p,{cols:"12",md:"9"},{default:t(()=>[e(b,null,{default:t(()=>[e(T,{class:"d-flex justify-space-between align-center"},{default:t(()=>[ve,e($,{modelValue:N.value,"onUpdate:modelValue":a[3]||(a[3]=l=>N.value=l),"append-icon":"mdi-magnify",label:"Search messages","single-line":"","hide-details":"",density:"compact",class:"max-w-xs"},null,8,["modelValue"])]),_:1}),e(g,null,{default:t(()=>[e(O,null,{default:t(()=>[pe,n("tbody",null,[(w(!0),A(ae,null,le(V.value,l=>(w(),A("tr",{key:l.id},[n("td",null,u(l.preview),1),n("td",null,u(l.recipients),1),n("td",null,[e(S,{color:l.status==="Delivered"?"success":l.status==="Read"?"info":"warning",size:"small"},{default:t(()=>[o(u(l.status),1)]),_:2},1032,["color"])]),n("td",null,[l.has_attachments?(w(),P(y,{key:0,color:"grey"},{default:t(()=>[o("mdi-paperclip")]),_:1})):(w(),A("span",_e,"-"))]),n("td",null,u(l.sent_at),1),n("td",null,[e(d,{icon:"",size:"small",color:"primary",variant:"text"},{default:t(()=>[e(y,null,{default:t(()=>[o("mdi-refresh")]),_:1})]),_:1}),e(d,{icon:"",size:"small",color:"info",variant:"text"},{default:t(()=>[e(y,null,{default:t(()=>[o("mdi-eye")]),_:1})]),_:1}),e(d,{icon:"",size:"small",color:"error",variant:"text"},{default:t(()=>[e(y,null,{default:t(()=>[o("mdi-delete")]),_:1})]),_:1})])]))),128))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(U,{modelValue:f.value,"onUpdate:modelValue":a[9]||(a[9]=l=>f.value=l),"max-width":"800px"},{default:t(()=>[e(b,null,{default:t(()=>[e(T,null,{default:t(()=>[o("Compose Message")]),_:1}),e(g,null,{default:t(()=>[e(j,{modelValue:v.value,"onUpdate:modelValue":a[4]||(a[4]=l=>v.value=l),items:z.value,"item-title":"name","item-value":"id",label:"Select Recipients",multiple:"",chips:"","return-object":""},{selection:t(({item:l})=>[e(S,null,{default:t(()=>[o(u(l.raw.name)+" ("+u(l.raw.username)+")",1)]),_:2},1024)]),_:1},8,["modelValue","items"]),e(j,{label:"Select Template",items:_.value,"item-title":"name","item-value":"id","onUpdate:modelValue":a[5]||(a[5]=l=>L(_.value.find(Q=>Q.id===l))),class:"mt-4"},null,8,["items"]),e(H,{modelValue:c.value,"onUpdate:modelValue":a[6]||(a[6]=l=>c.value=l),label:"Message",rows:"8",class:"mt-4",hint:"Variables format: {{variable_name}}","persistent-hint":""},null,8,["modelValue"]),e(W,{modelValue:C.value,"onUpdate:modelValue":a[7]||(a[7]=l=>C.value=l),label:"Attachments",multiple:"","prepend-icon":"mdi-paperclip","show-size":"","truncate-length":"25",class:"mt-4",hint:"Images, documents, videos (max 2GB)","persistent-hint":"",accept:"image/*, video/*, application/pdf, application/msword"},null,8,["modelValue"])]),_:1}),e(M,null,{default:t(()=>[e(D),e(d,{color:"error",onClick:a[8]||(a[8]=l=>f.value=!1)},{default:t(()=>[o("Cancel")]),_:1}),e(d,{color:"primary",onClick:G,disabled:!c.value||v.value.length===0},{default:t(()=>[o(" Send Message ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(U,{modelValue:x.value,"onUpdate:modelValue":a[11]||(a[11]=l=>x.value=l),"max-width":"500px"},{default:t(()=>[e(b,null,{default:t(()=>[e(T,null,{default:t(()=>[o("Import Telegram Contacts")]),_:1}),e(g,null,{default:t(()=>[e(W,{label:"Upload CSV File",accept:".csv","prepend-icon":"mdi-file-upload","show-size":"","truncate-length":"25"}),e(F,{type:"info",class:"mt-4"},{default:t(()=>[o(" CSV file should have columns: Name, Username, Phone Number, Status ")]),_:1})]),_:1}),e(M,null,{default:t(()=>[e(D),e(d,{color:"error",onClick:a[10]||(a[10]=l=>x.value=!1)},{default:t(()=>[o("Cancel")]),_:1}),e(d,{color:"primary"},{default:t(()=>[o("Import")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(U,{modelValue:h.value,"onUpdate:modelValue":a[15]||(a[15]=l=>h.value=l),"max-width":"700px"},{default:t(()=>[e(b,null,{default:t(()=>[e(T,null,{default:t(()=>[o("Create Message Template")]),_:1}),e(g,null,{default:t(()=>[e($,{modelValue:m.value.name,"onUpdate:modelValue":a[12]||(a[12]=l=>m.value.name=l),label:"Template Name",required:""},null,8,["modelValue"]),e(H,{modelValue:m.value.content,"onUpdate:modelValue":a[13]||(a[13]=l=>m.value.content=l),label:"Message Content",rows:"10",hint:"Use {{variable_name}} for dynamic content","persistent-hint":"",class:"mt-4"},null,8,["modelValue"]),e(F,{type:"info",class:"mt-4"},{default:t(()=>[o(" Available variables: "+u(r.name)+", "+u(r.username)+", "+u(r.amount)+", "+u(r.date)+", "+u(r.updates),1)]),_:1})]),_:1}),e(M,null,{default:t(()=>[e(D),e(d,{color:"error",onClick:a[14]||(a[14]=l=>h.value=!1)},{default:t(()=>[o("Cancel")]),_:1}),e(d,{color:"primary",onClick:q,disabled:!m.value.name||!m.value.content},{default:t(()=>[o(" Save Template ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}};export{we as default};
