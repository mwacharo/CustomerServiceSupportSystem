import{Z as Y}from"./index.esm-DubsfB4I.js";import{A as ee}from"./AppLayout-DUQGKdAp.js";import{r as u,y as le,i as n,o as j,c as L,w as l,b as e,u as te,a as z,f as o,t as B,d as ae,g as oe,F as ne}from"./app-CN2A0J98.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const se=z("span",null,"Customer Support Tickets",-1),ce={__name:"Tickets",setup(ue){const k=u(""),M=u(""),U=u(""),P=u([]),V=u(!1),C=u(!1),c=u(!1),p=u(!1),w=u([]),d=u(""),v=u([]),E=["All","Open","In Progress","Resolved","Closed"],R=["All","Low","Medium","High","Urgent"],F=()=>{k.value="",M.value="",U.value=""},H=u(10),N=(D=!1)=>{D?p.value=!0:c.value=!0},O=()=>{c.value=!1,p.value=!1},W=()=>{v.value=[{id:1,name:"Payment Reminder",content:"Dear {{name}}, this is a reminder about your payment due on {{date}}."},{id:2,name:"Issue Resolution",content:"Dear {{name}}, we are pleased to inform you that your issue has been resolved."},{id:3,name:"Follow-up",content:"Dear {{name}}, we are following up on your recent inquiry about {{topic}}."}]};return le(()=>{P.value=[{id:1,customer:"John Doe",subject:"Payment Issue",status:"Open",priority:"High",created_at:"2025-04-15"},{id:2,customer:"Jane Smith",subject:"Login Problem",status:"In Progress",priority:"Medium",created_at:"2025-04-16"},{id:3,customer:"Robert Brown",subject:"Refund Request",status:"Open",priority:"Urgent",created_at:"2025-04-18"},{id:4,customer:"Sarah Wilson",subject:"Account Verification",status:"Closed",priority:"Low",created_at:"2025-04-10"}],W()}),(D,a)=>{const m=n("v-icon"),s=n("v-btn"),f=n("v-card-title"),$=n("v-text-field"),_=n("v-col"),r=n("v-select"),h=n("v-row"),A=n("v-chip"),q=n("v-data-table"),y=n("v-card-text"),g=n("v-card"),J=n("v-container"),I=n("v-textarea"),Z=n("v-form"),x=n("v-spacer"),S=n("v-card-actions"),T=n("v-dialog"),G=n("v-file-input"),K=n("v-alert"),Q=n("v-chip-group"),X=n("v-checkbox");return j(),L(ee,null,{default:l(()=>[e(te(Y),{title:"Tickets"}),e(J,null,{default:l(()=>[e(h,null,{default:l(()=>[e(_,{cols:"12"},{default:l(()=>[e(g,null,{default:l(()=>[e(f,{class:"d-flex align-center justify-space-between"},{default:l(()=>[se,z("div",null,[e(s,{color:"primary",class:"mr-2",onClick:a[0]||(a[0]=t=>V.value=!0)},{default:l(()=>[e(m,{start:""},{default:l(()=>[o("mdi-plus")]),_:1}),o(" New Ticket ")]),_:1}),e(s,{color:"secondary",class:"mr-2",onClick:a[1]||(a[1]=t=>C.value=!0)},{default:l(()=>[e(m,{start:""},{default:l(()=>[o("mdi-file-import")]),_:1}),o(" Import ")]),_:1}),e(s,{color:"success",onClick:a[2]||(a[2]=t=>N(!0)),disabled:!w.value.length},{default:l(()=>[e(m,{start:""},{default:l(()=>[o("mdi-send")]),_:1}),o(" Bulk Message ")]),_:1},8,["disabled"])])]),_:1}),e(y,null,{default:l(()=>[e(h,null,{default:l(()=>[e(_,{cols:"12",sm:"6",md:"4"},{default:l(()=>[e($,{modelValue:k.value,"onUpdate:modelValue":a[3]||(a[3]=t=>k.value=t),label:"Search Tickets","prepend-inner-icon":"mdi-magnify",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),e(_,{cols:"12",sm:"6",md:"3"},{default:l(()=>[e(r,{modelValue:M.value,"onUpdate:modelValue":a[4]||(a[4]=t=>M.value=t),items:E,label:"Status",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),e(_,{cols:"12",sm:"6",md:"3"},{default:l(()=>[e(r,{modelValue:U.value,"onUpdate:modelValue":a[5]||(a[5]=t=>U.value=t),items:R,label:"Priority",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),e(_,{cols:"12",sm:"6",md:"2"},{default:l(()=>[e(s,{color:"info",variant:"text",onClick:F},{default:l(()=>[e(m,{start:""},{default:l(()=>[o("mdi-filter-off")]),_:1}),o(" Reset ")]),_:1})]),_:1})]),_:1}),e(q,{modelValue:w.value,"onUpdate:modelValue":a[7]||(a[7]=t=>w.value=t),headers:[{title:"ID",key:"id"},{title:"Customer",key:"customer"},{title:"Subject",key:"subject"},{title:"Status",key:"status"},{title:"Priority",key:"priority"},{title:"Created",key:"created_at"},{title:"Actions",key:"actions",sortable:!1}],items:P.value,search:k.value,"items-per-page":H.value,"item-value":"id","show-select":"",class:"mt-4"},{"item.status":l(({item:t})=>[e(A,{color:t.status==="Open"?"green":t.status==="In Progress"?"orange":t.status==="Resolved"?"blue":"grey",size:"small"},{default:l(()=>[o(B(t.status),1)]),_:2},1032,["color"])]),"item.priority":l(({item:t})=>[e(A,{color:t.priority==="Urgent"?"red":t.priority==="High"?"orange":t.priority==="Medium"?"blue":"green",size:"small"},{default:l(()=>[o(B(t.priority),1)]),_:2},1032,["color"])]),"item.actions":l(({item:t})=>[e(s,{icon:"",size:"small",color:"primary",onClick:i=>D.$router.push(`/tickets/${t.id}`)},{default:l(()=>[e(m,null,{default:l(()=>[o("mdi-eye")]),_:1})]),_:2},1032,["onClick"]),e(s,{icon:"",size:"small",color:"success",onClick:a[6]||(a[6]=i=>N(!1))},{default:l(()=>[e(m,null,{default:l(()=>[o("mdi-send")]),_:1})]),_:1})]),_:1},8,["modelValue","items","search","items-per-page"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(T,{modelValue:V.value,"onUpdate:modelValue":a[9]||(a[9]=t=>V.value=t),"max-width":"600px"},{default:l(()=>[e(g,null,{default:l(()=>[e(f,null,{default:l(()=>[o("Create New Ticket")]),_:1}),e(y,null,{default:l(()=>[e(Z,null,{default:l(()=>[e($,{label:"Customer",variant:"outlined",class:"mb-2"}),e($,{label:"Subject",variant:"outlined",class:"mb-2"}),e(r,{label:"Priority",items:R.filter(t=>t!=="All"),variant:"outlined",class:"mb-2"},null,8,["items"]),e(I,{label:"Description",variant:"outlined",rows:"4"})]),_:1})]),_:1}),e(S,null,{default:l(()=>[e(x),e(s,{color:"error",onClick:a[8]||(a[8]=t=>V.value=!1)},{default:l(()=>[o("Cancel")]),_:1}),e(s,{color:"primary"},{default:l(()=>[o("Create Ticket")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(T,{modelValue:C.value,"onUpdate:modelValue":a[11]||(a[11]=t=>C.value=t),"max-width":"500px"},{default:l(()=>[e(g,null,{default:l(()=>[e(f,null,{default:l(()=>[o("Import Tickets")]),_:1}),e(y,null,{default:l(()=>[e(G,{label:"Select CSV or Excel file",accept:".csv, .xlsx","prepend-icon":"mdi-file-excel",variant:"outlined"}),e(K,{type:"info",density:"compact"},{default:l(()=>[o(" Please ensure your file has the columns: Customer, Subject, Priority, Description ")]),_:1})]),_:1}),e(S,null,{default:l(()=>[e(x),e(s,{color:"error",onClick:a[10]||(a[10]=t=>C.value=!1)},{default:l(()=>[o("Cancel")]),_:1}),e(s,{color:"primary"},{default:l(()=>[o("Import")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(T,{modelValue:c.value,"onUpdate:modelValue":a[15]||(a[15]=t=>c.value=t),"max-width":"600px"},{default:l(()=>[e(g,null,{default:l(()=>[e(f,null,{default:l(()=>[o("Send Message")]),_:1}),e(y,null,{default:l(()=>[e(r,{label:"Message Template",items:v.value,"item-title":"name","item-value":"id",variant:"outlined",class:"mb-2","onUpdate:modelValue":a[12]||(a[12]=t=>{var i;return d.value=((i=v.value.find(b=>b.id===t))==null?void 0:i.content)||""})},null,8,["items"]),e(I,{label:"Message",modelValue:d.value,"onUpdate:modelValue":a[13]||(a[13]=t=>d.value=t),variant:"outlined",rows:"5"},null,8,["modelValue"]),e(r,{label:"Channel",items:["WhatsApp","Email","SMS","Telegram"],variant:"outlined"})]),_:1}),e(S,null,{default:l(()=>[e(x),e(s,{color:"error",onClick:a[14]||(a[14]=t=>c.value=!1)},{default:l(()=>[o("Cancel")]),_:1}),e(s,{color:"primary",onClick:O},{default:l(()=>[o("Send")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(T,{modelValue:p.value,"onUpdate:modelValue":a[19]||(a[19]=t=>p.value=t),"max-width":"600px"},{default:l(()=>[e(g,null,{default:l(()=>[e(f,null,{default:l(()=>[o("Send Bulk Messages")]),_:1}),e(y,null,{default:l(()=>[e(Q,{column:""},{default:l(()=>[(j(!0),ae(ne,null,oe(w.value,t=>(j(),L(A,{key:t},{default:l(()=>{var i;return[o(B(((i=P.value.find(b=>b.id===t))==null?void 0:i.customer)||t),1)]}),_:2},1024))),128))]),_:1}),e(r,{label:"Message Template",items:v.value,"item-title":"name","item-value":"id",variant:"outlined",class:"mb-2 mt-4","onUpdate:modelValue":a[16]||(a[16]=t=>{var i;return d.value=((i=v.value.find(b=>b.id===t))==null?void 0:i.content)||""})},null,8,["items"]),e(I,{label:"Message",modelValue:d.value,"onUpdate:modelValue":a[17]||(a[17]=t=>d.value=t),variant:"outlined",rows:"5"},null,8,["modelValue"]),e(r,{label:"Channel",items:["WhatsApp","Email","SMS","Telegram"],variant:"outlined"}),e(X,{label:"Schedule for later","hide-details":""})]),_:1}),e(S,null,{default:l(()=>[e(x),e(s,{color:"error",onClick:a[18]||(a[18]=t=>p.value=!1)},{default:l(()=>[o("Cancel")]),_:1}),e(s,{color:"primary",onClick:O},{default:l(()=>[o("Send to All")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}};export{ce as default};
