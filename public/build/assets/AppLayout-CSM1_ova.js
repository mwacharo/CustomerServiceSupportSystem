import{i as o,o as c,d as B,b as e,w as t,y as O,f as a,a as h,t as g,h as ee,U as te,r as u,k as U,V as P,W as oe,A as ne,c as y,g as I,F as R,e as A,q as le,u as se,X as ie}from"./app-DljwxtKl.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ae=()=>{te.Inertia.post(route("logout"))},re={data:()=>({fav:!0,menu:!1,message:!1,hints:!0}),methods:{logout:ae}},ue={class:"text-center"},ce={class:"font-medium text-base text-gray-800"},de={class:"font-medium text-sm text-gray-500"};function me(d,i,p,k,x,v){const m=o("v-icon"),f=o("v-btn"),V=o("v-divider"),w=o("v-list"),b=o("v-spacer"),C=o("v-card-actions"),S=o("v-card"),l=o("v-menu");return c(),B("div",ue,[e(l,{modelValue:d.menu,"onUpdate:modelValue":i[2]||(i[2]=n=>d.menu=n),"close-on-content-click":!1,location:"top"},{activator:t(({props:n})=>[e(f,O({color:"indigo"},n),{default:t(()=>[e(m,{left:""},{default:t(()=>[a("mdi-account")]),_:1})]),_:2},1040)]),default:t(()=>[e(S,{"min-width":"300"},{default:t(()=>[e(V),e(w,null,{default:t(()=>[h("div",null,[h("div",ce,g(d.$page.props.auth.user.name),1),h("div",de,g(d.$page.props.auth.user.email),1)])]),_:1}),e(C,null,{default:t(()=>[e(b),e(f,{variant:"text",onClick:i[0]||(i[0]=n=>d.menu=!1)},{default:t(()=>[a("Close")]),_:1}),h("form",{method:"POST",onSubmit:i[1]||(i[1]=ee((...n)=>v.logout&&v.logout(...n),["prevent"]))},[e(f,{color:"primary",variant:"text",type:"submit"},{default:t(()=>[e(m,{left:""},{default:t(()=>[a("mdi-exit-to-app")]),_:1}),a(" Sign out ")]),_:1})],32)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const _e=D(re,[["render",me]]),pe={__name:"AppLayout",setup(d){const i=u(!0),p=u([]),k=u(!1),x=u(""),v=u(null);u(null);const m=u(null),f=U(()=>P().props.value.user.roles),V=U(()=>P().props.value.user.permissions);oe(()=>{m.value&&(m.value.disconnect(),m.value=null)});const w=l=>{const n=p.value.indexOf(l);n===-1?p.value.push(l):p.value.splice(n,1)},b=l=>p.value.includes(l),C=ne([{title:"Dashboard",icon:"mdi-view-dashboard",items:[{route:"dashboard",icon:"mdi-view-dashboard-outline",title:"Dashboard"}]},{title:"Call Center",icon:"mdi-file-document-outline",items:[{route:"orders",icon:"mdi-file-document-multiple-outline",title:"Orders"}]},{title:"Users",icon:"mdi-account-circle-outline",items:[{route:"user",icon:"mdi-account-group-outline",title:"User"},{route:"user-roles",icon:"mdi-account-key-outline",title:"User Roles"},{route:"permissions",icon:"mdi-account-key-outline",title:"Permissions"}]},{title:"Reports",icon:"mdi-chart-box-outline",items:[{route:"reports",icon:"mdi-account-key-outline",title:"Reports"}]},{title:"Branches",icon:"mdi-map-marker-outline",items:[{route:"branches",icon:"mdi-map-marker-radius-outline",title:"Branches",permission:"view branches"}]},{title:"Settings",icon:"mdi-cog-outline",items:[{route:"ivr-options",icon:"mdi-cog-outline",title:"IvrOptions"}]}]),S=U(()=>C.filter(l=>(l.items=l.items.filter(n=>{const $=n.permission?V.value.includes(n.permission):!0,_=n.role?f.value.includes(n.role):!0;return $&&_}),l.items.length>0)));return(l,n)=>{const $=o("v-img"),_=o("v-list-item"),L=o("v-icon"),G=o("v-list-item-title"),N=o("v-list-group"),E=o("v-list"),F=o("v-navigation-drawer"),M=o("v-app-bar-nav-icon"),T=o("v-toolbar-title"),j=o("v-spacer"),q=o("v-chip"),W=o("v-badge"),X=o("v-btn"),z=o("v-app-bar"),H=o("v-progress-circular"),J=o("v-overlay"),K=o("v-main"),Q=o("v-app");return c(),y(Q,null,{default:t(()=>[e(F,{modelValue:i.value,"onUpdate:modelValue":n[0]||(n[0]=s=>i.value=s),app:"",color:"black",width:"300"},{default:t(()=>[e(_,null,{default:t(()=>[e($,{src:"path/to/logo.png",alt:"Logo",height:"60",contain:""})]),_:1}),e(E,{density:"compact",id:"layout"},{default:t(()=>[(c(!0),B(R,null,I(S.value,(s,Y)=>(c(),y(_,{key:Y},{default:t(()=>[e(N,{value:s.title,color:"info","prepend-icon":s.icon,open:b(s.title),onClick:r=>w(s.title)},{activator:t(({props:r})=>[e(_,O(r,{title:s.title}),null,16,["title"])]),default:t(()=>[b(s.title)?(c(!0),B(R,{key:0},I(s.items,(r,Z)=>(c(),y(se(ie),{key:Z,href:l.route(r.route),class:"text-decoration-none"},{default:t(()=>[e(_,{value:r.route,color:"info"},{prepend:t(()=>[e(L,null,{default:t(()=>[a(g(r.icon),1)]),_:2},1024)]),default:t(()=>[e(G,null,{default:t(()=>[a(g(r.title),1)]),_:2},1024)]),_:2},1032,["value"])]),_:2},1032,["href"]))),128)):A("",!0)]),_:2},1032,["value","prepend-icon","open","onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),e(z,{app:""},{default:t(()=>[e(M,{onClick:n[1]||(n[1]=s=>i.value=!i.value)}),e(T,null,{default:t(()=>[a("Customer Service Support System")]),_:1}),e(j),x.value?(c(),y(q,{key:0,color:v.value?"error":"success",class:"mx-2"},{default:t(()=>[a(g(v.value||x.value),1)]),_:1},8,["color"])):A("",!0),e(_e),e(X,{icon:"mdi-bell"},{default:t(()=>[e(W,{dot:"",color:"error"},{default:t(()=>[e(L,null,{default:t(()=>[a("mdi-bell")]),_:1})]),_:1})]),_:1})]),_:1}),e(K,null,{default:t(()=>[e(J,{modelValue:k.value,"onUpdate:modelValue":n[2]||(n[2]=s=>k.value=s),class:"align-center justify-center"},{default:t(()=>[e(H,{indeterminate:""})]),_:1},8,["modelValue"]),le(l.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}},ge=D(pe,[["__scopeId","data-v-18e95211"]]);export{ge as A};
