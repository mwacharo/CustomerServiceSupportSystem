import{A as S}from"./AppLayout-hKZqM6nm.js";import{s as x,i as s,o as U,c as L,w as a,b as e,f as r,y as h,G as y}from"./app-JOpCHc4Z.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const I={components:{AppLayout:S},data(){return{search:"",selectedReportType:null,selectedStatus:null,startDate:null,endDate:null,menu1:!1,menu2:!1,reportTypes:["Call Summary Report","Agent Performance","Call Logs","Missed Calls","Customer Feedback","Ticket Resolution","Average Call Duration"],statusTypes:["All","Answered","Missed","In Progress","Escalated"],reportData:[],headers:[]}},methods:{generateReport(){switch(this.selectedReportType){case"Call Summary Report":this.headers=[{title:"Agent",value:"agent"},{title:"Total Calls",value:"total_calls"},{title:"Answered",value:"answered"},{title:"Missed",value:"missed"},{title:"Escalated",value:"escalated"},{title:"Date",value:"date"}],this.fetchReportData("/api/reports/call-summary");break;case"Agent Performance":this.headers=[{title:"Agent",value:"agent"},{title:"Calls Handled",value:"calls_handled"},{title:"Avg Duration (min)",value:"avg_duration"},{title:"CSAT (%)",value:"csat"},{title:"Tickets Resolved",value:"tickets_resolved"}],this.fetchReportData("/api/reports/agent-performance");break;case"Call Logs":this.headers=[{title:"Call ID",value:"call_id"},{title:"Customer",value:"customer"},{title:"Agent",value:"agent"},{title:"Status",value:"status"},{title:"Start Time",value:"start_time"},{title:"End Time",value:"end_time"},{title:"Duration (min)",value:"duration"}],this.fetchReportData("/api/reports/call-logs");break;case"Missed Calls":this.headers=[{title:"Customer",value:"customer"},{title:"Missed Time",value:"time"},{title:"Callback Status",value:"callback_status"},{title:"Agent Assigned",value:"agent"}],this.fetchReportData("/api/v1/report-call-agent-list-summary-filter");break;case"Customer Feedback":this.headers=[{title:"Customer",value:"customer"},{title:"Agent",value:"agent"},{title:"Rating",value:"rating"},{title:"Comment",value:"comment"},{title:"Date",value:"date"}],this.fetchReportData("/api/reports/feedback");break;case"Ticket Resolution":this.headers=[{title:"Ticket ID",value:"ticket_id"},{title:"Customer",value:"customer"},{title:"Agent",value:"agent"},{title:"Status",value:"status"},{title:"Resolved On",value:"resolved_on"}],this.fetchReportData("/api/reports/ticket-resolution");break;case"Average Call Duration":this.headers=[{title:"Agent",value:"agent"},{title:"Total Calls",value:"total_calls"},{title:"Average Duration",value:"avg_duration"},{title:"Longest Call",value:"longest_call"},{title:"Shortest Call",value:"shortest_call"}],this.fetchReportData("/api/reports/call-duration");break}},async fetchReportData(p){try{const t=await x.post(p,{params:{startDate:this.startDate,endDate:this.endDate,status:this.selectedStatus}});this.reportData=t.data}catch(t){console.error("Error fetching report:",t)}},downloadReport(){console.log("Download clicked for:",this.selectedReportType)}}};function M(p,t,P,B,l,v){const k=s("v-spacer"),C=s("v-divider"),i=s("v-text-field"),n=s("v-col"),u=s("v-icon"),d=s("v-btn"),_=s("v-row"),f=s("v-select"),g=s("v-date-picker"),D=s("v-menu"),V=s("v-data-table"),R=s("v-container"),b=s("v-card"),A=s("v-main"),T=s("v-app"),w=s("AppLayout");return U(),L(w,null,{default:a(()=>[e(T,null,{default:a(()=>[e(A,null,{default:a(()=>[e(k),e(C),e(_,{class:"mt-4"},{default:a(()=>[e(n,null,{default:a(()=>[e(i,{modelValue:l.search,"onUpdate:modelValue":t[0]||(t[0]=o=>l.search=o),label:"Search","prepend-inner-icon":"mdi-magnify",clearable:"",outlined:""},null,8,["modelValue"])]),_:1}),e(n,{cols:"auto"},{default:a(()=>[e(d,{icon:""},{default:a(()=>[e(u,null,{default:a(()=>[r("mdi-filter-variant")]),_:1})]),_:1})]),_:1})]),_:1}),e(b,{class:"my-card"},{default:a(()=>[e(R,null,{default:a(()=>[e(_,null,{default:a(()=>[e(n,{cols:"12",md:"4"},{default:a(()=>[e(f,{modelValue:l.selectedReportType,"onUpdate:modelValue":t[1]||(t[1]=o=>l.selectedReportType=o),items:l.reportTypes,label:"Report Type"},null,8,["modelValue","items"])]),_:1}),e(n,{cols:"12",md:"4"},{default:a(()=>[e(D,{modelValue:l.menu1,"onUpdate:modelValue":t[5]||(t[5]=o=>l.menu1=o),"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},{activator:a(({on:o,attrs:c})=>[e(i,h({modelValue:l.startDate,"onUpdate:modelValue":t[2]||(t[2]=m=>l.startDate=m),label:"Start Date","prepend-icon":"mdi-calendar",readonly:""},c,{type:"date"},y(o)),null,16,["modelValue"])]),default:a(()=>[e(g,{modelValue:l.startDate,"onUpdate:modelValue":t[3]||(t[3]=o=>l.startDate=o),onInput:t[4]||(t[4]=o=>l.menu1=!1)},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),e(n,{cols:"12",md:"4"},{default:a(()=>[e(D,{modelValue:l.menu2,"onUpdate:modelValue":t[9]||(t[9]=o=>l.menu2=o),"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},{activator:a(({on:o,attrs:c})=>[e(i,h({modelValue:l.endDate,"onUpdate:modelValue":t[6]||(t[6]=m=>l.endDate=m),label:"End Date","prepend-icon":"mdi-calendar",readonly:""},c,{type:"date"},y(o)),null,16,["modelValue"])]),default:a(()=>[e(g,{modelValue:l.endDate,"onUpdate:modelValue":t[7]||(t[7]=o=>l.endDate=o),onInput:t[8]||(t[8]=o=>l.menu2=!1)},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),e(n,{cols:"12",md:"4"},{default:a(()=>[e(f,{modelValue:l.selectedStatus,"onUpdate:modelValue":t[10]||(t[10]=o=>l.selectedStatus=o),items:l.statusTypes,label:"Call Status"},null,8,["modelValue","items"])]),_:1}),e(n,{cols:"12",class:"text-right"},{default:a(()=>[e(d,{color:"primary",onClick:v.generateReport},{default:a(()=>[e(u,{left:""},{default:a(()=>[r("mdi-magnify")]),_:1}),r(" Search ")]),_:1},8,["onClick"]),e(d,{color:"secondary",onClick:v.downloadReport},{default:a(()=>[e(u,{left:""},{default:a(()=>[r("mdi-download")]),_:1}),r(" Download ")]),_:1},8,["onClick"])]),_:1})]),_:1}),e(V,{headers:l.headers,items:l.reportData,"items-per-page":10,search:l.search,class:"elevation-1"},null,8,["headers","items","search"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const G=E(I,[["render",M]]);export{G as default};
