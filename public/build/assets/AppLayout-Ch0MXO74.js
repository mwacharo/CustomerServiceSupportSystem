import{i as o,o as a,d as y,b as t,w as e,y as W,f as l,a as w,t as d,h as ee,V as te,r as f,k as U,c as v,F as L,g as O,e as $,n as oe,x as ne,A as N,H as ae,B as se,q as le,u as ie,W as ce}from"./app-CaywldAw.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const re=()=>{te.Inertia.post(route("logout"))},ue={data:()=>({fav:!0,menu:!1,message:!1,hints:!0}),methods:{logout:re}},de={class:"text-center"},me={class:"font-medium text-base text-gray-800"},_e={class:"font-medium text-sm text-gray-500"};function pe(x,c,m,C,r,p){const h=o("v-icon"),b=o("v-btn"),D=o("v-divider"),S=o("v-list"),V=o("v-spacer"),M=o("v-card-actions"),u=o("v-card"),s=o("v-menu");return a(),y("div",de,[t(s,{modelValue:x.menu,"onUpdate:modelValue":c[2]||(c[2]=n=>x.menu=n),"close-on-content-click":!1,location:"top"},{activator:e(({props:n})=>[t(b,W({color:"indigo"},n),{default:e(()=>[t(h,{left:""},{default:e(()=>[l("mdi-account")]),_:1})]),_:2},1040)]),default:e(()=>[t(u,{"min-width":"300"},{default:e(()=>[t(D),t(S,null,{default:e(()=>[w("div",null,[w("div",me,d(x.$page.props.auth.user.name),1),w("div",_e,d(x.$page.props.auth.user.email),1)])]),_:1}),t(M,null,{default:e(()=>[t(V),t(b,{variant:"text",onClick:c[0]||(c[0]=n=>x.menu=!1)},{default:e(()=>[l("Close")]),_:1}),w("form",{method:"POST",onSubmit:c[1]||(c[1]=ee((...n)=>p.logout&&p.logout(...n),["prevent"]))},[t(b,{color:"primary",variant:"text",type:"submit"},{default:e(()=>[t(h,{left:""},{default:e(()=>[l("mdi-exit-to-app")]),_:1}),l(" Sign out ")]),_:1})],32)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const ve=F(ue,[["render",pe]]),fe={key:0,class:"smart-icon-menu"},he={class:"icon-label"},ge={key:0,class:"notification-badge"},ye={class:"message-header"},be={class:"message-time"},ke={key:0,class:"message-status"},we={__name:"ChatBox",setup(x){const c=f([{id:"sms",name:"SMS",icon:"mdi-message-text",color:"indigo",unread:2,status:"online"},{id:"email",name:"Email",icon:"mdi-email",color:"blue",unread:0,status:"online"},{id:"whatsapp",name:"WhatsApp",icon:"mdi-whatsapp",color:"green",unread:5,status:"online"},{id:"telegram",name:"Telegram",icon:"mdi-telegram",color:"light-blue",unread:0,status:"offline"}]),m=f(!1),C=f(!1),r=f(c.value[0]),p=f(""),h=f([{id:1,channelId:"sms",text:"Hello! How can I help you?",type:"ai",timestamp:Date.now()-36e5},{id:2,channelId:"whatsapp",text:"Hi there! Any updates on my order?",type:"user",timestamp:Date.now()-18e5,status:"read"},{id:3,channelId:"whatsapp",text:"Yes, your order #12345 has been shipped and will arrive tomorrow.",type:"ai",timestamp:Date.now()-179e4},{id:4,channelId:"sms",text:"Do you have any promotions this week?",type:"user",timestamp:Date.now()-9e5,status:"sent"}]),b=U(()=>h.value.filter(u=>u.channelId===r.value.id)),D=()=>{m.value=!m.value,m.value||(C.value=!1)},S=u=>{r.value=u,m.value=!1,C.value=!0,u.unread=0},V=async()=>{if(!p.value)return;const u={id:Date.now(),channelId:r.value.id,text:p.value,type:"user",timestamp:Date.now(),status:"sent"};h.value.push(u);const s=await new Promise(n=>{setTimeout(()=>{n({reply:`This is a response via ${r.value.name}`})},500)});h.value.push({id:Date.now(),channelId:r.value.id,text:s.reply,type:"ai",timestamp:Date.now()}),setTimeout(()=>{const n=h.value.find(g=>g.id===u.id);n&&(n.status="read")},1e3),p.value=""},M=u=>new Date(u).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(u,s)=>{const n=o("v-icon"),g=o("v-btn"),k=o("v-spacer"),T=o("v-chip"),P=o("v-card-title"),B=o("v-divider"),A=o("v-card-text"),R=o("v-text-field"),H=o("v-card-actions"),E=o("v-card"),G=o("v-container");return a(),v(G,null,{default:e(()=>[t(g,{fab:"",color:"primary",class:"smart-icon-button",onClick:D},{default:e(()=>[m.value?(a(),v(n,{key:1},{default:e(()=>[l("mdi-close")]),_:1})):(a(),v(n,{key:0},{default:e(()=>[l(d(r.value.icon),1)]),_:1}))]),_:1}),m.value?(a(),y("div",fe,[(a(!0),y(L,null,O(c.value,i=>(a(),v(g,{key:i.id,fab:"",small:"",color:i.color,class:"channel-icon",onClick:K=>S(i)},{default:e(()=>[t(n,null,{default:e(()=>[l(d(i.icon),1)]),_:2},1024),w("span",he,d(i.name),1),i.unread?(a(),y("div",ge,d(i.unread),1)):$("",!0)]),_:2},1032,["color","onClick"]))),128))])):$("",!0),C.value?(a(),v(E,{key:1,class:"chat-box"},{default:e(()=>[t(P,null,{default:e(()=>[t(n,{left:""},{default:e(()=>[l(d(r.value.icon),1)]),_:1}),l(" "+d(r.value.name)+" ",1),t(k),r.value.status==="online"?(a(),v(T,{key:0,small:"",color:"success"},{default:e(()=>[l("Online")]),_:1})):(a(),v(T,{key:1,small:"",color:"error"},{default:e(()=>[l("Offline")]),_:1}))]),_:1}),t(B),t(A,{class:"chat-messages"},{default:e(()=>[(a(!0),y(L,null,O(b.value,i=>(a(),y("div",{key:i.id,class:oe(["chat-message",i.type])},[w("div",ye,[w("span",be,d(M(i.timestamp)),1)]),w("p",null,d(i.text),1),i.status?(a(),y("div",ke,[t(n,{"x-small":""},{default:e(()=>[l(d(i.status==="read"?"mdi-check-all":"mdi-check"),1)]),_:2},1024)])):$("",!0)],2))),128))]),_:1}),t(B),t(H,{class:"message-input"},{default:e(()=>[t(g,{icon:"",small:""},{default:e(()=>[t(n,null,{default:e(()=>[l("mdi-paperclip")]),_:1})]),_:1}),t(R,{modelValue:p.value,"onUpdate:modelValue":s[0]||(s[0]=i=>p.value=i),label:`Message via ${r.value.name}...`,onKeyup:ne(V,["enter"]),"hide-details":"",dense:""},null,8,["modelValue","label"]),t(g,{icon:"",color:"primary",onClick:V},{default:e(()=>[t(n,null,{default:e(()=>[l("mdi-send")]),_:1})]),_:1})]),_:1})]),_:1})):$("",!0)]),_:1})}}},xe=F(we,[["__scopeId","data-v-db23db96"]]),Ce={__name:"AppLayout",setup(x){const c=f(!0),m=f([]),C=f(!1),r=f(""),p=f(null),h=U(()=>N().props.value.user.roles),b=U(()=>N().props.value.user.permissions),D=U(()=>N().props.value.user.token);ae(()=>{console.log("User Roles:",h.value),console.log("User Permissions:",b.value),console.log("User Token:",D.value)});const S=s=>{const n=m.value.indexOf(s);n===-1?m.value.push(s):m.value.splice(n,1)},V=s=>m.value.includes(s),M=se([{title:"Dashboard",icon:"mdi-view-dashboard",items:[{route:"dashboard",icon:"mdi-view-dashboard-outline",title:"Dashboard"}]},{title:"Call Center",icon:"mdi-file-document-outline",items:[{route:"orders",icon:"mdi-file-document-multiple-outline",title:"Orders"}]},{title:"Users",icon:"mdi-account-circle-outline",items:[{route:"user",icon:"mdi-account-group-outline",title:"User"},{route:"user-roles",icon:"mdi-account-key-outline",title:"User Roles"},{route:"permissions",icon:"mdi-account-key-outline",title:"Permissions"}]},{title:"Reports",icon:"mdi-chart-box-outline",items:[{route:"reports",icon:"mdi-account-key-outline",title:"Reports"}]},{title:"Branches",icon:"mdi-map-marker-outline",items:[{route:"branches",icon:"mdi-map-marker-radius-outline",title:"Branches",permission:"view branches"}]},{title:"Settings",icon:"mdi-cog-outline",items:[{route:"ivr-options",icon:"mdi-cog-outline",title:"IvrOptions"}]}]),u=U(()=>M.filter(s=>(s.items=s.items.filter(n=>{const g=n.permission?b.value.includes(n.permission):!0,k=n.role?h.value.includes(n.role):!0;return g&&k}),s.items.length>0)));return(s,n)=>{const g=o("v-img"),k=o("v-list-item"),T=o("v-icon"),P=o("v-list-item-title"),B=o("v-list-group"),A=o("v-list"),R=o("v-navigation-drawer"),H=o("v-app-bar-nav-icon"),E=o("v-toolbar-title"),G=o("v-spacer"),i=o("v-chip"),K=o("v-badge"),j=o("v-btn"),q=o("v-app-bar"),z=o("v-progress-circular"),Y=o("v-overlay"),J=o("v-main"),Q=o("v-app");return a(),v(Q,null,{default:e(()=>[t(R,{modelValue:c.value,"onUpdate:modelValue":n[0]||(n[0]=_=>c.value=_),app:"",color:"black",width:"300"},{default:e(()=>[t(k,null,{default:e(()=>[t(g,{src:"path/to/logo.png",alt:"Logo",height:"60",contain:""})]),_:1}),t(A,{density:"compact",id:"layout"},{default:e(()=>[(a(!0),y(L,null,O(u.value,(_,X)=>(a(),v(k,{key:X},{default:e(()=>[t(B,{value:_.title,color:"info","prepend-icon":_.icon,open:V(_.title),onClick:I=>S(_.title)},{activator:e(({props:I})=>[t(k,W(I,{title:_.title}),null,16,["title"])]),default:e(()=>[V(_.title)?(a(!0),y(L,{key:0},O(_.items,(I,Z)=>(a(),v(ie(ce),{key:Z,href:s.route(I.route),class:"text-decoration-none"},{default:e(()=>[t(k,{value:I.route,color:"info"},{prepend:e(()=>[t(T,null,{default:e(()=>[l(d(I.icon),1)]),_:2},1024)]),default:e(()=>[t(P,null,{default:e(()=>[l(d(I.title),1)]),_:2},1024)]),_:2},1032,["value"])]),_:2},1032,["href"]))),128)):$("",!0)]),_:2},1032,["value","prepend-icon","open","onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),t(q,{app:""},{default:e(()=>[t(H,{onClick:n[1]||(n[1]=_=>c.value=!c.value)}),t(E,null,{default:e(()=>[l("Customer Service Support System")]),_:1}),t(G),r.value?(a(),v(i,{key:0,color:p.value?"error":"success",class:"mx-2"},{default:e(()=>[l(d(p.value||r.value),1)]),_:1},8,["color"])):$("",!0),t(ve),t(j,{icon:"mdi-bell"},{default:e(()=>[t(K,{dot:"",color:"error"},{default:e(()=>[t(T,null,{default:e(()=>[l("mdi-bell")]),_:1})]),_:1})]),_:1})]),_:1}),t(J,null,{default:e(()=>[t(Y,{modelValue:C.value,"onUpdate:modelValue":n[2]||(n[2]=_=>C.value=_),class:"align-center justify-center"},{default:e(()=>[t(z,{indeterminate:""})]),_:1},8,["modelValue"]),le(s.$slots,"default",{},void 0,!0),t(xe)]),_:3})]),_:3})}}},$e=F(Ce,[["__scopeId","data-v-1cc1c7ea"]]);export{$e as A};
