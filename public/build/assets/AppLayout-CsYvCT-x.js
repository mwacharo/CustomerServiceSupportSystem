import{i as o,o as u,d as L,b as e,w as t,y as O,f as i,a as h,t as g,h as ee,V as te,r as f,k,A as B,H as oe,B as ne,c as y,g as R,F as I,e as A,q as se,u as le,W as ae}from"./app-CfQn0wT_.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ie=()=>{te.Inertia.post(route("logout"))},re={data:()=>({fav:!0,menu:!1,message:!1,hints:!0}),methods:{logout:ie}},ue={class:"text-center"},ce={class:"font-medium text-base text-gray-800"},de={class:"font-medium text-sm text-gray-500"};function me(c,a,_,x,V,p){const v=o("v-icon"),d=o("v-btn"),w=o("v-divider"),C=o("v-list"),b=o("v-spacer"),S=o("v-card-actions"),U=o("v-card"),s=o("v-menu");return u(),L("div",ue,[e(s,{modelValue:c.menu,"onUpdate:modelValue":a[2]||(a[2]=n=>c.menu=n),"close-on-content-click":!1,location:"top"},{activator:t(({props:n})=>[e(d,O({color:"indigo"},n),{default:t(()=>[e(v,{left:""},{default:t(()=>[i("mdi-account")]),_:1})]),_:2},1040)]),default:t(()=>[e(U,{"min-width":"300"},{default:t(()=>[e(w),e(C,null,{default:t(()=>[h("div",null,[h("div",ce,g(c.$page.props.auth.user.name),1),h("div",de,g(c.$page.props.auth.user.email),1)])]),_:1}),e(S,null,{default:t(()=>[e(b),e(d,{variant:"text",onClick:a[0]||(a[0]=n=>c.menu=!1)},{default:t(()=>[i("Close")]),_:1}),h("form",{method:"POST",onSubmit:a[1]||(a[1]=ee((...n)=>p.logout&&p.logout(...n),["prevent"]))},[e(d,{color:"primary",variant:"text",type:"submit"},{default:t(()=>[e(v,{left:""},{default:t(()=>[i("mdi-exit-to-app")]),_:1}),i(" Sign out ")]),_:1})],32)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const _e=T(re,[["render",me]]),pe={__name:"AppLayout",setup(c){const a=f(!0),_=f([]),x=f(!1),V=f(""),p=f(null),v=k(()=>B().props.value.user.roles),d=k(()=>B().props.value.user.permissions),w=k(()=>B().props.value.user.token);oe(()=>{console.log("User Roles:",v.value),console.log("User Permissions:",d.value),console.log("User Token:",w.value)});const C=s=>{const n=_.value.indexOf(s);n===-1?_.value.push(s):_.value.splice(n,1)},b=s=>_.value.includes(s),S=ne([{title:"Dashboard",icon:"mdi-view-dashboard",items:[{route:"dashboard",icon:"mdi-view-dashboard-outline",title:"Dashboard"}]},{title:"Call Center",icon:"mdi-file-document-outline",items:[{route:"orders",icon:"mdi-file-document-multiple-outline",title:"Orders"}]},{title:"Users",icon:"mdi-account-circle-outline",items:[{route:"user",icon:"mdi-account-group-outline",title:"User"},{route:"user-roles",icon:"mdi-account-key-outline",title:"User Roles"},{route:"permissions",icon:"mdi-account-key-outline",title:"Permissions"}]},{title:"Reports",icon:"mdi-chart-box-outline",items:[{route:"reports",icon:"mdi-account-key-outline",title:"Reports"}]},{title:"Branches",icon:"mdi-map-marker-outline",items:[{route:"branches",icon:"mdi-map-marker-radius-outline",title:"Branches",permission:"view branches"}]},{title:"Settings",icon:"mdi-cog-outline",items:[{route:"ivr-options",icon:"mdi-cog-outline",title:"IvrOptions"}]}]),U=k(()=>S.filter(s=>(s.items=s.items.filter(n=>{const $=n.permission?d.value.includes(n.permission):!0,m=n.role?v.value.includes(n.role):!0;return $&&m}),s.items.length>0)));return(s,n)=>{const $=o("v-img"),m=o("v-list-item"),P=o("v-icon"),D=o("v-list-item-title"),G=o("v-list-group"),M=o("v-list"),N=o("v-navigation-drawer"),E=o("v-app-bar-nav-icon"),F=o("v-toolbar-title"),j=o("v-spacer"),q=o("v-chip"),H=o("v-badge"),W=o("v-btn"),z=o("v-app-bar"),J=o("v-progress-circular"),K=o("v-overlay"),Q=o("v-main"),X=o("v-app");return u(),y(X,null,{default:t(()=>[e(N,{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=l=>a.value=l),app:"",color:"black",width:"300"},{default:t(()=>[e(m,null,{default:t(()=>[e($,{src:"path/to/logo.png",alt:"Logo",height:"60",contain:""})]),_:1}),e(M,{density:"compact",id:"layout"},{default:t(()=>[(u(!0),L(I,null,R(U.value,(l,Y)=>(u(),y(m,{key:Y},{default:t(()=>[e(G,{value:l.title,color:"info","prepend-icon":l.icon,open:b(l.title),onClick:r=>C(l.title)},{activator:t(({props:r})=>[e(m,O(r,{title:l.title}),null,16,["title"])]),default:t(()=>[b(l.title)?(u(!0),L(I,{key:0},R(l.items,(r,Z)=>(u(),y(le(ae),{key:Z,href:s.route(r.route),class:"text-decoration-none"},{default:t(()=>[e(m,{value:r.route,color:"info"},{prepend:t(()=>[e(P,null,{default:t(()=>[i(g(r.icon),1)]),_:2},1024)]),default:t(()=>[e(D,null,{default:t(()=>[i(g(r.title),1)]),_:2},1024)]),_:2},1032,["value"])]),_:2},1032,["href"]))),128)):A("",!0)]),_:2},1032,["value","prepend-icon","open","onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),e(z,{app:""},{default:t(()=>[e(E,{onClick:n[1]||(n[1]=l=>a.value=!a.value)}),e(F,null,{default:t(()=>[i("Customer Service Support System")]),_:1}),e(j),V.value?(u(),y(q,{key:0,color:p.value?"error":"success",class:"mx-2"},{default:t(()=>[i(g(p.value||V.value),1)]),_:1},8,["color"])):A("",!0),e(_e),e(W,{icon:"mdi-bell"},{default:t(()=>[e(H,{dot:"",color:"error"},{default:t(()=>[e(P,null,{default:t(()=>[i("mdi-bell")]),_:1})]),_:1})]),_:1})]),_:1}),e(Q,null,{default:t(()=>[e(K,{modelValue:x.value,"onUpdate:modelValue":n[2]||(n[2]=l=>x.value=l),class:"align-center justify-center"},{default:t(()=>[e(J,{indeterminate:""})]),_:1},8,["modelValue"]),se(s.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}},ge=T(pe,[["__scopeId","data-v-ee327a1d"]]);export{ge as A};
