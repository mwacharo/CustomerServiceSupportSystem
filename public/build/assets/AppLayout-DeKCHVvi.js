import{i as o,o as c,d as U,b as e,w as t,z as D,f as i,a as h,t as g,h as ee,U as te,r as u,k as B,V as P,W as oe,B as ne,c as k,g as A,F as R,e as I,q as se,u as le,X as ae}from"./app-DBkE79GB.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ie=()=>{te.Inertia.post(route("logout"))},re={data:()=>({fav:!0,menu:!1,message:!1,hints:!0}),methods:{logout:ie}},ue={class:"text-center"},ce={class:"font-medium text-base text-gray-800"},de={class:"font-medium text-sm text-gray-500"};function me(d,a,p,y,x,v){const m=o("v-icon"),f=o("v-btn"),V=o("v-divider"),w=o("v-list"),b=o("v-spacer"),S=o("v-card-actions"),C=o("v-card"),s=o("v-menu");return c(),U("div",ue,[e(s,{modelValue:d.menu,"onUpdate:modelValue":a[2]||(a[2]=n=>d.menu=n),"close-on-content-click":!1,location:"top"},{activator:t(({props:n})=>[e(f,D({color:"indigo"},n),{default:t(()=>[e(m,{left:""},{default:t(()=>[i("mdi-account")]),_:1})]),_:2},1040)]),default:t(()=>[e(C,{"min-width":"300"},{default:t(()=>[e(V),e(w,null,{default:t(()=>[h("div",null,[h("div",ce,g(d.$page.props.auth.user.name),1),h("div",de,g(d.$page.props.auth.user.email),1)])]),_:1}),e(S,null,{default:t(()=>[e(b),e(f,{variant:"text",onClick:a[0]||(a[0]=n=>d.menu=!1)},{default:t(()=>[i("Close")]),_:1}),h("form",{method:"POST",onSubmit:a[1]||(a[1]=ee((...n)=>v.logout&&v.logout(...n),["prevent"]))},[e(f,{color:"primary",variant:"text",type:"submit"},{default:t(()=>[e(m,{left:""},{default:t(()=>[i("mdi-exit-to-app")]),_:1}),i(" Sign out ")]),_:1})],32)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const _e=G(re,[["render",me]]),pe={__name:"AppLayout",setup(d){const a=u(!0),p=u([]),y=u(!1),x=u(""),v=u(null);u(null);const m=u(null),f=B(()=>P().props.value.user.roles),V=B(()=>P().props.value.user.permissions);oe(()=>{m.value&&(m.value.disconnect(),m.value=null)});const w=s=>{const n=p.value.indexOf(s);n===-1?p.value.push(s):p.value.splice(n,1)},b=s=>p.value.includes(s),S=ne([{title:"Dashboard",icon:"mdi-view-dashboard",items:[{route:"dashboard",icon:"mdi-view-dashboard-outline",title:"Dashboard"}]},{title:"Call Center",icon:"mdi-file-document-outline",items:[{route:"sector",icon:"mdi-domain",title:"Sector",permission:"view sectors"},{route:"orders",icon:"mdi-file-document-multiple-outline",title:"Orders"}]},{title:"Users",icon:"mdi-account-circle-outline",items:[{route:"user",icon:"mdi-account-group-outline",title:"User",permission:"view users"},{route:"user-roles",icon:"mdi-account-key-outline",title:"User Roles",role:"SuperAdmin"},{route:"permissions",icon:"mdi-account-key-outline",title:"Permissions",role:"SuperAdmin"}]},{title:"Reports",icon:"mdi-chart-box-outline",items:[{route:"reports",icon:"mdi-account-key-outline",title:"Reports"}]},{title:"Branches",icon:"mdi-map-marker-outline",items:[{route:"branches",icon:"mdi-map-marker-radius-outline",title:"Branches",permission:"view branches"}]}]),C=B(()=>S.filter(s=>(s.items=s.items.filter(n=>{const $=n.permission?V.value.includes(n.permission):!0,_=n.role?f.value.includes(n.role):!0;return $&&_}),s.items.length>0)));return(s,n)=>{const $=o("v-img"),_=o("v-list-item"),L=o("v-icon"),N=o("v-list-item-title"),O=o("v-list-group"),E=o("v-list"),F=o("v-navigation-drawer"),M=o("v-app-bar-nav-icon"),T=o("v-toolbar-title"),j=o("v-spacer"),q=o("v-chip"),z=o("v-badge"),W=o("v-btn"),X=o("v-app-bar"),H=o("v-progress-circular"),J=o("v-overlay"),K=o("v-main"),Q=o("v-app");return c(),k(Q,null,{default:t(()=>[e(F,{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=l=>a.value=l),app:"",color:"black"},{default:t(()=>[e(_,null,{default:t(()=>[e($,{src:"path/to/logo.png",alt:"Logo",height:"60",contain:""})]),_:1}),e(E,{density:"compact",id:"layout"},{default:t(()=>[(c(!0),U(R,null,A(C.value,(l,Y)=>(c(),k(_,{key:Y},{default:t(()=>[e(O,{value:l.title,color:"info","prepend-icon":l.icon,open:b(l.title),onClick:r=>w(l.title)},{activator:t(({props:r})=>[e(_,D(r,{title:l.title}),null,16,["title"])]),default:t(()=>[b(l.title)?(c(!0),U(R,{key:0},A(l.items,(r,Z)=>(c(),k(le(ae),{key:Z,href:s.route(r.route),class:"text-decoration-none"},{default:t(()=>[e(_,{value:r.route,color:"info"},{prepend:t(()=>[e(L,null,{default:t(()=>[i(g(r.icon),1)]),_:2},1024)]),default:t(()=>[e(N,null,{default:t(()=>[i(g(r.title),1)]),_:2},1024)]),_:2},1032,["value"])]),_:2},1032,["href"]))),128)):I("",!0)]),_:2},1032,["value","prepend-icon","open","onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),e(X,{app:""},{default:t(()=>[e(M,{onClick:n[1]||(n[1]=l=>a.value=!a.value)}),e(T,null,{default:t(()=>[i("Customer Service Support System")]),_:1}),e(j),x.value?(c(),k(q,{key:0,color:v.value?"error":"success",class:"mx-2"},{default:t(()=>[i(g(v.value||x.value),1)]),_:1},8,["color"])):I("",!0),e(_e),e(W,{icon:"mdi-bell"},{default:t(()=>[e(z,{dot:"",color:"error"},{default:t(()=>[e(L,null,{default:t(()=>[i("mdi-bell")]),_:1})]),_:1})]),_:1})]),_:1}),e(K,null,{default:t(()=>[e(J,{modelValue:y.value,"onUpdate:modelValue":n[2]||(n[2]=l=>y.value=l),class:"align-center justify-center"},{default:t(()=>[e(H,{indeterminate:""})]),_:1},8,["modelValue"]),se(s.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}},ge=G(pe,[["__scopeId","data-v-642dc018"]]);export{ge as A};
