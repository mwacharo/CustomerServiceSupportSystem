import{Z as ee}from"./index.esm-DxW2UMF5.js";import{A as le}from"./AppLayout-DgsIk88T.js";import{r as u,y as te,i as n,o as A,c as E,w as l,b as e,u as ae,a as y,f as o,t as m,z as j,d as ne,g as oe,F as se}from"./app-BIKXqRdU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ue=y("span",null,"Message Center",-1),ie={class:"d-flex align-center justify-space-between mb-2"},de=y("div",{class:"text-subtitle-1"},"Message",-1),_e={__name:"Messages",setup(me){const b=u(""),h=u([]),c=u([]),M=u([]),r=u(""),p=u("WhatsApp"),V=["WhatsApp","SMS","Email","Telegram"],v=u(!1),_=u(!1),g=u([]),s=u({name:"",content:"",channel:"All"}),F=()=>{M.value=[{id:1,name:"John Doe",phone:"+254712345678",email:"john@example.com"},{id:2,name:"Jane Smith",phone:"+254723456789",email:"jane@example.com"},{id:3,name:"Robert Brown",phone:"+254734567890",email:"robert@example.com"},{id:4,name:"Sarah Wilson",phone:"+254745678901",email:"sarah@example.com"}]},I=()=>{g.value=[{id:1,name:"Payment Reminder",content:"Dear {{name}}, this is a reminder about your payment due on {{date}}.",channel:"All"},{id:2,name:"Issue Resolution",content:"Dear {{name}}, we are pleased to inform you that your issue has been resolved.",channel:"Email"},{id:3,name:"Follow-up",content:"Dear {{name}}, we are following up on your recent inquiry about {{topic}}.",channel:"WhatsApp"}]},P=()=>{g.value.push({id:g.value.length+1,...s.value}),s.value={name:"",content:"",channel:"All"},_.value=!1},q=d=>{r.value=d.content},J=()=>{alert(`Sending message via ${p.value} to ${c.value.length} recipients`);const d=new Date;h.value.unshift({id:h.value.length+1,content:r.value,recipients:c.value.length,channel:p.value,status:"Sent",sent_at:d.toISOString().slice(0,10)}),r.value="",c.value=[],v.value=!1};return te(()=>{h.value=[{id:1,content:"Payment reminder for April invoice",recipients:25,channel:"Email",status:"Delivered",sent_at:"2025-04-19"},{id:2,content:"System maintenance notification",recipients:120,channel:"SMS",status:"Sent",sent_at:"2025-04-18"},{id:3,content:"New feature announcement",recipients:50,channel:"WhatsApp",status:"Delivered",sent_at:"2025-04-17"},{id:4,content:"Urgent: Account verification required",recipients:5,channel:"Telegram",status:"Read",sent_at:"2025-04-16"}],F(),I()}),(d,a)=>{const f=n("v-icon"),i=n("v-btn"),w=n("v-card-title"),D=n("v-text-field"),C=n("v-col"),x=n("v-select"),U=n("v-row"),S=n("v-chip"),L=n("v-data-table"),k=n("v-card-text"),T=n("v-card"),O=n("v-container"),Z=n("v-autocomplete"),G=n("v-list-item-title"),H=n("v-list-item"),K=n("v-list"),Q=n("v-menu"),N=n("v-textarea"),X=n("v-checkbox"),R=n("v-form"),$=n("v-spacer"),z=n("v-card-actions"),W=n("v-dialog"),Y=n("v-alert");return A(),E(le,null,{default:l(()=>[e(ae(ee),{title:"Messages"}),e(O,null,{default:l(()=>[e(U,null,{default:l(()=>[e(C,{cols:"12"},{default:l(()=>[e(T,null,{default:l(()=>[e(w,{class:"d-flex align-center justify-space-between"},{default:l(()=>[ue,y("div",null,[e(i,{color:"primary",class:"mr-2",onClick:a[0]||(a[0]=t=>v.value=!0)},{default:l(()=>[e(f,{start:""},{default:l(()=>[o("mdi-message-plus")]),_:1}),o(" New Message ")]),_:1}),e(i,{color:"secondary",onClick:a[1]||(a[1]=t=>_.value=!0)},{default:l(()=>[e(f,{start:""},{default:l(()=>[o("mdi-file-document-edit")]),_:1}),o(" Create Template ")]),_:1})])]),_:1}),e(k,null,{default:l(()=>[e(U,null,{default:l(()=>[e(C,{cols:"12",sm:"8"},{default:l(()=>[e(D,{modelValue:b.value,"onUpdate:modelValue":a[2]||(a[2]=t=>b.value=t),label:"Search Messages","prepend-inner-icon":"mdi-magnify",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),e(C,{cols:"12",sm:"4"},{default:l(()=>[e(x,{modelValue:p.value,"onUpdate:modelValue":a[3]||(a[3]=t=>p.value=t),items:V,label:"Channel",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),e(L,{headers:[{title:"ID",key:"id"},{title:"Content",key:"content"},{title:"Recipients",key:"recipients"},{title:"Channel",key:"channel"},{title:"Status",key:"status"},{title:"Sent Date",key:"sent_at"},{title:"Actions",key:"actions",sortable:!1}],items:h.value,search:b.value,class:"mt-4"},{"item.channel":l(({item:t})=>[e(S,{color:t.channel==="WhatsApp"?"green":t.channel==="SMS"?"blue":t.channel==="Email"?"orange":"purple",size:"small"},{default:l(()=>[o(m(t.channel),1)]),_:2},1032,["color"])]),"item.status":l(({item:t})=>[e(S,{color:t.status==="Delivered"?"green":t.status==="Sent"?"blue":t.status==="Read"?"purple":"grey",size:"small"},{default:l(()=>[o(m(t.status),1)]),_:2},1032,["color"])]),"item.actions":l(({item:t})=>[e(i,{icon:"",size:"small",color:"primary"},{default:l(()=>[e(f,null,{default:l(()=>[o("mdi-eye")]),_:1})]),_:1}),e(i,{icon:"",size:"small",color:"secondary"},{default:l(()=>[e(f,null,{default:l(()=>[o("mdi-content-copy")]),_:1})]),_:1})]),_:1},8,["items","search"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(W,{modelValue:v.value,"onUpdate:modelValue":a[8]||(a[8]=t=>v.value=t),"max-width":"700px"},{default:l(()=>[e(T,null,{default:l(()=>[e(w,null,{default:l(()=>[o("Compose New Message")]),_:1}),e(k,null,{default:l(()=>[e(R,null,{default:l(()=>[e(Z,{modelValue:c.value,"onUpdate:modelValue":a[4]||(a[4]=t=>c.value=t),items:M.value,"item-title":"name","item-value":"id",chips:"",multiple:"","closable-chips":"",label:"Recipients",variant:"outlined",class:"mb-3"},{chip:l(({props:t,item:B})=>[e(S,j(t,{text:B.raw.name}),null,16,["text"])]),_:1},8,["modelValue","items"]),e(x,{modelValue:p.value,"onUpdate:modelValue":a[5]||(a[5]=t=>p.value=t),items:V,label:"Channel",variant:"outlined",class:"mb-3"},null,8,["modelValue"]),y("div",ie,[de,e(Q,null,{activator:l(({props:t})=>[e(i,j({variant:"text"},t,{size:"small",color:"primary"}),{default:l(()=>[e(f,{start:""},{default:l(()=>[o("mdi-file-document")]),_:1}),o(" Templates ")]),_:2},1040)]),default:l(()=>[e(K,null,{default:l(()=>[(A(!0),ne(se,null,oe(g.value,t=>(A(),E(H,{key:t.id,onClick:B=>q(t)},{default:l(()=>[e(G,null,{default:l(()=>[o(m(t.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),e(N,{modelValue:r.value,"onUpdate:modelValue":a[6]||(a[6]=t=>r.value=t),variant:"outlined",rows:"5",placeholder:"Type your message here..."},null,8,["modelValue"]),e(X,{label:"Schedule for later","hide-details":""})]),_:1})]),_:1}),e(z,null,{default:l(()=>[e($),e(i,{color:"error",onClick:a[7]||(a[7]=t=>v.value=!1)},{default:l(()=>[o("Cancel")]),_:1}),e(i,{color:"primary",onClick:J,disabled:!r.value||c.value.length===0},{default:l(()=>[o("Send")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(W,{modelValue:_.value,"onUpdate:modelValue":a[13]||(a[13]=t=>_.value=t),"max-width":"600px"},{default:l(()=>[e(T,null,{default:l(()=>[e(w,null,{default:l(()=>[o("Create Message Template")]),_:1}),e(k,null,{default:l(()=>[e(R,null,{default:l(()=>[e(D,{modelValue:s.value.name,"onUpdate:modelValue":a[9]||(a[9]=t=>s.value.name=t),label:"Template Name",variant:"outlined",class:"mb-3"},null,8,["modelValue"]),e(x,{modelValue:s.value.channel,"onUpdate:modelValue":a[10]||(a[10]=t=>s.value.channel=t),items:["All",...V],label:"Channel",variant:"outlined",class:"mb-3"},null,8,["modelValue","items"]),e(N,{modelValue:s.value.content,"onUpdate:modelValue":a[11]||(a[11]=t=>s.value.content=t),label:"Template Content",variant:"outlined",rows:"5",placeholder:"Type your template here... Use {{name}} for variables"},null,8,["modelValue"]),e(Y,{type:"info",density:"compact",class:"mt-3"},{default:l(()=>[o(" Available variables: "+m(d.name)+", "+m(d.date)+", "+m(d.topic)+", "+m(d.amount),1)]),_:1})]),_:1})]),_:1}),e(z,null,{default:l(()=>[e($),e(i,{color:"error",onClick:a[12]||(a[12]=t=>_.value=!1)},{default:l(()=>[o("Cancel")]),_:1}),e(i,{color:"primary",onClick:P,disabled:!s.value.name||!s.value.content},{default:l(()=>[o("Save Template")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}};export{_e as default};
