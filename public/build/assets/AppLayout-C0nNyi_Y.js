import{i as o,o as a,d as b,b as t,w as e,y as K,f as l,a as k,t as d,h as ee,U as te,r as h,k as D,c as f,F as O,g as P,e as M,n as oe,x as ne,A as L,G as se,B as ae,q as le,u as ie,V as re,p as ce,j as ue}from"./app-CDCfvC-d.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";const de=()=>{te.Inertia.post(route("logout"))},me={data:()=>({fav:!0,menu:!1,message:!1,hints:!0}),methods:{logout:de}},_e={class:"text-center"},pe={class:"font-medium text-base text-gray-800"},ve={class:"font-medium text-sm text-gray-500"};function fe(p,r,m,C,c,v){const g=o("v-icon"),w=o("v-btn"),U=o("v-divider"),B=o("v-list"),$=o("v-spacer"),S=o("v-card-actions"),u=o("v-card"),y=o("v-menu");return a(),b("div",_e,[t(y,{modelValue:p.menu,"onUpdate:modelValue":r[2]||(r[2]=n=>p.menu=n),"close-on-content-click":!1,location:"top"},{activator:e(({props:n})=>[t(w,K({color:"indigo"},n),{default:e(()=>[t(g,{left:""},{default:e(()=>[l("mdi-account")]),_:1})]),_:2},1040)]),default:e(()=>[t(u,{"min-width":"300"},{default:e(()=>[t(U),t(B,null,{default:e(()=>[k("div",null,[k("div",pe,d(p.$page.props.auth.user.name),1),k("div",ve,d(p.$page.props.auth.user.email),1)])]),_:1}),t(S,null,{default:e(()=>[t($),t(w,{variant:"text",onClick:r[0]||(r[0]=n=>p.menu=!1)},{default:e(()=>[l("Close")]),_:1}),k("form",{method:"POST",onSubmit:r[1]||(r[1]=ee((...n)=>v.logout&&v.logout(...n),["prevent"]))},[t(w,{color:"primary",variant:"text",type:"submit"},{default:e(()=>[t(g,{left:""},{default:e(()=>[l("mdi-exit-to-app")]),_:1}),l(" Sign out ")]),_:1})],32)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const he=j(me,[["render",fe]]),ge={key:0,class:"smart-icon-menu"},ye={class:"icon-label"},be={key:0,class:"notification-badge"},ke={class:"message-header"},we={class:"message-time"},xe={key:0,class:"message-status"},Ce={__name:"ChatBox",setup(p){const r=h([{id:"sms",name:"SMS",icon:"mdi-message-text",color:"indigo",unread:2,status:"online"},{id:"email",name:"Email",icon:"mdi-email",color:"blue",unread:0,status:"online"},{id:"whatsapp",name:"WhatsApp",icon:"mdi-whatsapp",color:"green",unread:5,status:"online"},{id:"telegram",name:"Telegram",icon:"mdi-telegram",color:"light-blue",unread:0,status:"offline"}]),m=h(!1),C=h(!1),c=h(r.value[0]),v=h(""),g=h([{id:1,channelId:"sms",text:"Hello! How can I help you?",type:"ai",timestamp:Date.now()-36e5},{id:2,channelId:"whatsapp",text:"Hi there! Any updates on my order?",type:"user",timestamp:Date.now()-18e5,status:"read"},{id:3,channelId:"whatsapp",text:"Yes, your order #12345 has been shipped and will arrive tomorrow.",type:"ai",timestamp:Date.now()-179e4},{id:4,channelId:"sms",text:"Do you have any promotions this week?",type:"user",timestamp:Date.now()-9e5,status:"sent"}]),w=D(()=>g.value.filter(u=>u.channelId===c.value.id)),U=()=>{m.value=!m.value,m.value||(C.value=!1)},B=u=>{c.value=u,m.value=!1,C.value=!0,u.unread=0},$=async()=>{if(!v.value)return;const u={id:Date.now(),channelId:c.value.id,text:v.value,type:"user",timestamp:Date.now(),status:"sent"};g.value.push(u);const y=await new Promise(n=>{setTimeout(()=>{n({reply:`This is a response via ${c.value.name}`})},500)});g.value.push({id:Date.now(),channelId:c.value.id,text:y.reply,type:"ai",timestamp:Date.now()}),setTimeout(()=>{const n=g.value.find(s=>s.id===u.id);n&&(n.status="read")},1e3),v.value=""},S=u=>new Date(u).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(u,y)=>{const n=o("v-icon"),s=o("v-btn"),x=o("v-spacer"),I=o("v-chip"),A=o("v-card-title"),T=o("v-divider"),R=o("v-card-text"),G=o("v-text-field"),E=o("v-card-actions"),H=o("v-card"),N=o("v-container");return a(),f(N,null,{default:e(()=>[t(s,{fab:"",color:"primary",class:"smart-icon-button",onClick:U},{default:e(()=>[m.value?(a(),f(n,{key:1},{default:e(()=>[l("mdi-close")]),_:1})):(a(),f(n,{key:0},{default:e(()=>[l(d(c.value.icon),1)]),_:1}))]),_:1}),m.value?(a(),b("div",ge,[(a(!0),b(O,null,P(r.value,i=>(a(),f(s,{key:i.id,fab:"",small:"",color:i.color,class:"channel-icon",onClick:F=>B(i)},{default:e(()=>[t(n,null,{default:e(()=>[l(d(i.icon),1)]),_:2},1024),k("span",ye,d(i.name),1),i.unread?(a(),b("div",be,d(i.unread),1)):M("",!0)]),_:2},1032,["color","onClick"]))),128))])):M("",!0),C.value?(a(),f(H,{key:1,class:"chat-box"},{default:e(()=>[t(A,null,{default:e(()=>[t(n,{left:""},{default:e(()=>[l(d(c.value.icon),1)]),_:1}),l(" "+d(c.value.name)+" ",1),t(x),c.value.status==="online"?(a(),f(I,{key:0,small:"",color:"success"},{default:e(()=>[l("Online")]),_:1})):(a(),f(I,{key:1,small:"",color:"error"},{default:e(()=>[l("Offline")]),_:1}))]),_:1}),t(T),t(R,{class:"chat-messages"},{default:e(()=>[(a(!0),b(O,null,P(w.value,i=>(a(),b("div",{key:i.id,class:oe(["chat-message",i.type])},[k("div",ke,[k("span",we,d(S(i.timestamp)),1)]),k("p",null,d(i.text),1),i.status?(a(),b("div",xe,[t(n,{"x-small":""},{default:e(()=>[l(d(i.status==="read"?"mdi-check-all":"mdi-check"),1)]),_:2},1024)])):M("",!0)],2))),128))]),_:1}),t(T),t(E,{class:"message-input"},{default:e(()=>[t(s,{icon:"",small:""},{default:e(()=>[t(n,null,{default:e(()=>[l("mdi-paperclip")]),_:1})]),_:1}),t(G,{modelValue:v.value,"onUpdate:modelValue":y[0]||(y[0]=i=>v.value=i),label:`Message via ${c.value.name}...`,onKeyup:ne($,["enter"]),"hide-details":"",dense:""},null,8,["modelValue","label"]),t(s,{icon:"",color:"primary",onClick:$},{default:e(()=>[t(n,null,{default:e(()=>[l("mdi-send")]),_:1})]),_:1})]),_:1})]),_:1})):M("",!0)]),_:1})}}},Ie=j(Ce,[["__scopeId","data-v-db23db96"]]),Ve=p=>(ce("data-v-54b1ee5a"),p=p(),ue(),p),$e=Ve(()=>k("img",{src:"/assets/img/logo.png",alt:"Boxleo Logo",class:"sidebar-logo",width:"150"},null,-1)),Se={__name:"AppLayout",setup(p){const r=h(!0),m=h([]),C=h(!1),c=h(""),v=h(null),g=D(()=>L().props.value.user.roles),w=D(()=>L().props.value.user.permissions),U=D(()=>L().props.value.user.token),B=D(()=>L().props.value.user.id);se(()=>{console.log("User Roles:",g.value),console.log("User Permissions:",w.value),console.log("User Token:",U.value),console.log("User Id:",B.value)});const $=n=>{const s=m.value.indexOf(n);s===-1?m.value.push(n):m.value.splice(s,1)},S=n=>m.value.includes(n),u=ae([{title:"Dashboard",icon:"mdi-view-dashboard",items:[{route:"dashboard",icon:"mdi-view-dashboard-outline",title:"Dashboard"}]},{title:"Call Center",icon:"mdi-file-document-outline",items:[{route:"orders",icon:"mdi-file-document-multiple-outline",title:"Orders"}]},{title:"Users",icon:"mdi-account-circle-outline",items:[{route:"user",icon:"mdi-account-group-outline",title:"User"},{route:"user-roles",icon:"mdi-account-key-outline",title:"User Roles"},{route:"permissions",icon:"mdi-account-key-outline",title:"Permissions"}]},{title:"Reports",icon:"mdi-chart-box-outline",items:[{route:"reports",icon:"mdi-account-key-outline",title:"Reports"}]},{title:"Branches",icon:"mdi-map-marker-outline",items:[{route:"branches",icon:"mdi-map-marker-radius-outline",title:"Branches",permission:"view branches"}]},{title:"Settings",icon:"mdi-cog-outline",items:[{route:"ivr-options",icon:"mdi-cog-outline",title:"IvrOptions"}]}]),y=D(()=>u.filter(n=>(n.items=n.items.filter(s=>{const x=s.permission?w.value.includes(s.permission):!0,I=s.role?g.value.includes(s.role):!0;return x&&I}),n.items.length>0)));return(n,s)=>{const x=o("v-list-item"),I=o("v-icon"),A=o("v-list-item-title"),T=o("v-list-group"),R=o("v-list"),G=o("v-navigation-drawer"),E=o("v-app-bar-nav-icon"),H=o("v-toolbar-title"),N=o("v-spacer"),i=o("v-chip"),F=o("v-badge"),q=o("v-btn"),z=o("v-app-bar"),W=o("v-progress-circular"),Y=o("v-overlay"),J=o("v-main"),Q=o("v-app");return a(),f(Q,null,{default:e(()=>[t(G,{modelValue:r.value,"onUpdate:modelValue":s[0]||(s[0]=_=>r.value=_),app:"",color:"black",width:"300"},{default:e(()=>[t(x,null,{default:e(()=>[$e]),_:1}),t(R,{density:"compact",id:"layout"},{default:e(()=>[(a(!0),b(O,null,P(y.value,(_,X)=>(a(),f(x,{key:X},{default:e(()=>[t(T,{value:_.title,color:"info","prepend-icon":_.icon,open:S(_.title),onClick:V=>$(_.title)},{activator:e(({props:V})=>[t(x,K(V,{title:_.title}),null,16,["title"])]),default:e(()=>[S(_.title)?(a(!0),b(O,{key:0},P(_.items,(V,Z)=>(a(),f(ie(re),{key:Z,href:n.route(V.route),class:"text-decoration-none"},{default:e(()=>[t(x,{value:V.route,color:"info"},{prepend:e(()=>[t(I,null,{default:e(()=>[l(d(V.icon),1)]),_:2},1024)]),default:e(()=>[t(A,null,{default:e(()=>[l(d(V.title),1)]),_:2},1024)]),_:2},1032,["value"])]),_:2},1032,["href"]))),128)):M("",!0)]),_:2},1032,["value","prepend-icon","open","onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),t(z,{app:""},{default:e(()=>[t(E,{onClick:s[1]||(s[1]=_=>r.value=!r.value)}),t(H,null,{default:e(()=>[l("Customer Service Support System")]),_:1}),t(N),c.value?(a(),f(i,{key:0,color:v.value?"error":"success",class:"mx-2"},{default:e(()=>[l(d(v.value||c.value),1)]),_:1},8,["color"])):M("",!0),t(he),t(q,{icon:"mdi-bell"},{default:e(()=>[t(F,{dot:"",color:"error"},{default:e(()=>[t(I,null,{default:e(()=>[l("mdi-bell")]),_:1})]),_:1})]),_:1})]),_:1}),t(J,null,{default:e(()=>[t(Y,{modelValue:C.value,"onUpdate:modelValue":s[2]||(s[2]=_=>C.value=_),class:"align-center justify-center"},{default:e(()=>[t(W,{indeterminate:""})]),_:1},8,["modelValue"]),le(n.$slots,"default",{},void 0,!0),t(Ie)]),_:3})]),_:3})}}},Ue=j(Se,[["__scopeId","data-v-54b1ee5a"]]);export{Ue as A};
