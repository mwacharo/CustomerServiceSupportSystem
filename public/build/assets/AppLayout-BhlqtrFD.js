import{i as o,o as a,d as b,b as t,w as e,y as W,f as l,a as w,t as d,h as te,V as oe,r as f,k as D,c as v,F as P,g as A,e as S,n as ne,x as se,A as O,H as ae,B as le,q as ie,u as re,W as ce}from"./app-DgffgktI.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ue=()=>{oe.Inertia.post(route("logout"))},de={data:()=>({fav:!0,menu:!1,message:!1,hints:!0}),methods:{logout:ue}},me={class:"text-center"},_e={class:"font-medium text-base text-gray-800"},pe={class:"font-medium text-sm text-gray-500"};function ve(x,r,m,C,c,p){const h=o("v-icon"),k=o("v-btn"),M=o("v-divider"),U=o("v-list"),V=o("v-spacer"),$=o("v-card-actions"),u=o("v-card"),g=o("v-menu");return a(),b("div",me,[t(g,{modelValue:x.menu,"onUpdate:modelValue":r[2]||(r[2]=n=>x.menu=n),"close-on-content-click":!1,location:"top"},{activator:e(({props:n})=>[t(k,W({color:"indigo"},n),{default:e(()=>[t(h,{left:""},{default:e(()=>[l("mdi-account")]),_:1})]),_:2},1040)]),default:e(()=>[t(u,{"min-width":"300"},{default:e(()=>[t(M),t(U,null,{default:e(()=>[w("div",null,[w("div",_e,d(x.$page.props.auth.user.name),1),w("div",pe,d(x.$page.props.auth.user.email),1)])]),_:1}),t($,null,{default:e(()=>[t(V),t(k,{variant:"text",onClick:r[0]||(r[0]=n=>x.menu=!1)},{default:e(()=>[l("Close")]),_:1}),w("form",{method:"POST",onSubmit:r[1]||(r[1]=te((...n)=>p.logout&&p.logout(...n),["prevent"]))},[t(k,{color:"primary",variant:"text",type:"submit"},{default:e(()=>[t(h,{left:""},{default:e(()=>[l("mdi-exit-to-app")]),_:1}),l(" Sign out ")]),_:1})],32)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const fe=F(de,[["render",ve]]),he={key:0,class:"smart-icon-menu"},ge={class:"icon-label"},ye={key:0,class:"notification-badge"},be={class:"message-header"},ke={class:"message-time"},we={key:0,class:"message-status"},xe={__name:"ChatBox",setup(x){const r=f([{id:"sms",name:"SMS",icon:"mdi-message-text",color:"indigo",unread:2,status:"online"},{id:"email",name:"Email",icon:"mdi-email",color:"blue",unread:0,status:"online"},{id:"whatsapp",name:"WhatsApp",icon:"mdi-whatsapp",color:"green",unread:5,status:"online"},{id:"telegram",name:"Telegram",icon:"mdi-telegram",color:"light-blue",unread:0,status:"offline"}]),m=f(!1),C=f(!1),c=f(r.value[0]),p=f(""),h=f([{id:1,channelId:"sms",text:"Hello! How can I help you?",type:"ai",timestamp:Date.now()-36e5},{id:2,channelId:"whatsapp",text:"Hi there! Any updates on my order?",type:"user",timestamp:Date.now()-18e5,status:"read"},{id:3,channelId:"whatsapp",text:"Yes, your order #12345 has been shipped and will arrive tomorrow.",type:"ai",timestamp:Date.now()-179e4},{id:4,channelId:"sms",text:"Do you have any promotions this week?",type:"user",timestamp:Date.now()-9e5,status:"sent"}]),k=D(()=>h.value.filter(u=>u.channelId===c.value.id)),M=()=>{m.value=!m.value,m.value||(C.value=!1)},U=u=>{c.value=u,m.value=!1,C.value=!0,u.unread=0},V=async()=>{if(!p.value)return;const u={id:Date.now(),channelId:c.value.id,text:p.value,type:"user",timestamp:Date.now(),status:"sent"};h.value.push(u);const g=await new Promise(n=>{setTimeout(()=>{n({reply:`This is a response via ${c.value.name}`})},500)});h.value.push({id:Date.now(),channelId:c.value.id,text:g.reply,type:"ai",timestamp:Date.now()}),setTimeout(()=>{const n=h.value.find(s=>s.id===u.id);n&&(n.status="read")},1e3),p.value=""},$=u=>new Date(u).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(u,g)=>{const n=o("v-icon"),s=o("v-btn"),T=o("v-spacer"),y=o("v-chip"),B=o("v-card-title"),L=o("v-divider"),R=o("v-card-text"),H=o("v-text-field"),E=o("v-card-actions"),G=o("v-card"),N=o("v-container");return a(),v(N,null,{default:e(()=>[t(s,{fab:"",color:"primary",class:"smart-icon-button",onClick:M},{default:e(()=>[m.value?(a(),v(n,{key:1},{default:e(()=>[l("mdi-close")]),_:1})):(a(),v(n,{key:0},{default:e(()=>[l(d(c.value.icon),1)]),_:1}))]),_:1}),m.value?(a(),b("div",he,[(a(!0),b(P,null,A(r.value,i=>(a(),v(s,{key:i.id,fab:"",small:"",color:i.color,class:"channel-icon",onClick:K=>U(i)},{default:e(()=>[t(n,null,{default:e(()=>[l(d(i.icon),1)]),_:2},1024),w("span",ge,d(i.name),1),i.unread?(a(),b("div",ye,d(i.unread),1)):S("",!0)]),_:2},1032,["color","onClick"]))),128))])):S("",!0),C.value?(a(),v(G,{key:1,class:"chat-box"},{default:e(()=>[t(B,null,{default:e(()=>[t(n,{left:""},{default:e(()=>[l(d(c.value.icon),1)]),_:1}),l(" "+d(c.value.name)+" ",1),t(T),c.value.status==="online"?(a(),v(y,{key:0,small:"",color:"success"},{default:e(()=>[l("Online")]),_:1})):(a(),v(y,{key:1,small:"",color:"error"},{default:e(()=>[l("Offline")]),_:1}))]),_:1}),t(L),t(R,{class:"chat-messages"},{default:e(()=>[(a(!0),b(P,null,A(k.value,i=>(a(),b("div",{key:i.id,class:ne(["chat-message",i.type])},[w("div",be,[w("span",ke,d($(i.timestamp)),1)]),w("p",null,d(i.text),1),i.status?(a(),b("div",we,[t(n,{"x-small":""},{default:e(()=>[l(d(i.status==="read"?"mdi-check-all":"mdi-check"),1)]),_:2},1024)])):S("",!0)],2))),128))]),_:1}),t(L),t(E,{class:"message-input"},{default:e(()=>[t(s,{icon:"",small:""},{default:e(()=>[t(n,null,{default:e(()=>[l("mdi-paperclip")]),_:1})]),_:1}),t(H,{modelValue:p.value,"onUpdate:modelValue":g[0]||(g[0]=i=>p.value=i),label:`Message via ${c.value.name}...`,onKeyup:se(V,["enter"]),"hide-details":"",dense:""},null,8,["modelValue","label"]),t(s,{icon:"",color:"primary",onClick:V},{default:e(()=>[t(n,null,{default:e(()=>[l("mdi-send")]),_:1})]),_:1})]),_:1})]),_:1})):S("",!0)]),_:1})}}},Ce=F(xe,[["__scopeId","data-v-db23db96"]]),Ie={__name:"AppLayout",setup(x){const r=f(!0),m=f([]),C=f(!1),c=f(""),p=f(null),h=D(()=>O().props.value.user.roles),k=D(()=>O().props.value.user.permissions),M=D(()=>O().props.value.user.token),U=D(()=>O().props.value.user.id);ae(()=>{console.log("User Roles:",h.value),console.log("User Permissions:",k.value),console.log("User Token:",M.value),console.log("User Id:",U.value)});const V=n=>{const s=m.value.indexOf(n);s===-1?m.value.push(n):m.value.splice(s,1)},$=n=>m.value.includes(n),u=le([{title:"Dashboard",icon:"mdi-view-dashboard",items:[{route:"dashboard",icon:"mdi-view-dashboard-outline",title:"Dashboard"}]},{title:"Call Center",icon:"mdi-file-document-outline",items:[{route:"orders",icon:"mdi-file-document-multiple-outline",title:"Orders"}]},{title:"Users",icon:"mdi-account-circle-outline",items:[{route:"user",icon:"mdi-account-group-outline",title:"User"},{route:"user-roles",icon:"mdi-account-key-outline",title:"User Roles"},{route:"permissions",icon:"mdi-account-key-outline",title:"Permissions"}]},{title:"Reports",icon:"mdi-chart-box-outline",items:[{route:"reports",icon:"mdi-account-key-outline",title:"Reports"}]},{title:"Branches",icon:"mdi-map-marker-outline",items:[{route:"branches",icon:"mdi-map-marker-radius-outline",title:"Branches",permission:"view branches"}]},{title:"Settings",icon:"mdi-cog-outline",items:[{route:"ivr-options",icon:"mdi-cog-outline",title:"IvrOptions"}]}]),g=D(()=>u.filter(n=>(n.items=n.items.filter(s=>{const T=s.permission?k.value.includes(s.permission):!0,y=s.role?h.value.includes(s.role):!0;return T&&y}),n.items.length>0)));return(n,s)=>{const T=o("v-img"),y=o("v-list-item"),B=o("v-icon"),L=o("v-list-item-title"),R=o("v-list-group"),H=o("v-list"),E=o("v-navigation-drawer"),G=o("v-app-bar-nav-icon"),N=o("v-toolbar-title"),i=o("v-spacer"),K=o("v-chip"),j=o("v-badge"),q=o("v-btn"),z=o("v-app-bar"),Y=o("v-progress-circular"),J=o("v-overlay"),Q=o("v-main"),X=o("v-app");return a(),v(X,null,{default:e(()=>[t(E,{modelValue:r.value,"onUpdate:modelValue":s[0]||(s[0]=_=>r.value=_),app:"",color:"black",width:"300"},{default:e(()=>[t(y,null,{default:e(()=>[t(T,{src:"path/to/logo.png",alt:"Logo",height:"60",contain:""})]),_:1}),t(H,{density:"compact",id:"layout"},{default:e(()=>[(a(!0),b(P,null,A(g.value,(_,Z)=>(a(),v(y,{key:Z},{default:e(()=>[t(R,{value:_.title,color:"info","prepend-icon":_.icon,open:$(_.title),onClick:I=>V(_.title)},{activator:e(({props:I})=>[t(y,W(I,{title:_.title}),null,16,["title"])]),default:e(()=>[$(_.title)?(a(!0),b(P,{key:0},A(_.items,(I,ee)=>(a(),v(re(ce),{key:ee,href:n.route(I.route),class:"text-decoration-none"},{default:e(()=>[t(y,{value:I.route,color:"info"},{prepend:e(()=>[t(B,null,{default:e(()=>[l(d(I.icon),1)]),_:2},1024)]),default:e(()=>[t(L,null,{default:e(()=>[l(d(I.title),1)]),_:2},1024)]),_:2},1032,["value"])]),_:2},1032,["href"]))),128)):S("",!0)]),_:2},1032,["value","prepend-icon","open","onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),t(z,{app:""},{default:e(()=>[t(G,{onClick:s[1]||(s[1]=_=>r.value=!r.value)}),t(N,null,{default:e(()=>[l("Customer Service Support System")]),_:1}),t(i),c.value?(a(),v(K,{key:0,color:p.value?"error":"success",class:"mx-2"},{default:e(()=>[l(d(p.value||c.value),1)]),_:1},8,["color"])):S("",!0),t(fe),t(q,{icon:"mdi-bell"},{default:e(()=>[t(j,{dot:"",color:"error"},{default:e(()=>[t(B,null,{default:e(()=>[l("mdi-bell")]),_:1})]),_:1})]),_:1})]),_:1}),t(Q,null,{default:e(()=>[t(J,{modelValue:C.value,"onUpdate:modelValue":s[2]||(s[2]=_=>C.value=_),class:"align-center justify-center"},{default:e(()=>[t(Y,{indeterminate:""})]),_:1},8,["modelValue"]),ie(n.$slots,"default",{},void 0,!0),t(Ce)]),_:3})]),_:3})}}},De=F(Ie,[["__scopeId","data-v-0fe79e20"]]);export{De as A};
