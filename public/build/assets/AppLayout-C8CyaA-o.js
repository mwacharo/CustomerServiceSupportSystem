import{i as o,o as s,d as k,b as t,w as e,z as F,f as l,a as b,t as u,h as ee,S as te,r as h,k as T,c as f,F as P,g as O,e as D,n as oe,x as ne,J as L,y as ae,Q as se,q as le,u as ie,T as ue,p as re,j as ce}from"./app-CMd5_mI8.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";const de=()=>{te.Inertia.post(route("logout"))},me={data:()=>({fav:!0,menu:!1,message:!1,hints:!0}),methods:{logout:de}},pe={class:"text-center"},_e={class:"font-medium text-base text-gray-800"},ve={class:"font-medium text-sm text-gray-500"};function fe(_,r,p,I,c,v){const g=o("v-icon"),w=o("v-btn"),M=o("v-divider"),U=o("v-list"),S=o("v-spacer"),V=o("v-card-actions"),d=o("v-card"),y=o("v-menu");return s(),k("div",pe,[t(y,{modelValue:_.menu,"onUpdate:modelValue":r[2]||(r[2]=n=>_.menu=n),"close-on-content-click":!1,location:"top"},{activator:e(({props:n})=>[t(w,F({color:"indigo"},n),{default:e(()=>[t(g,{left:""},{default:e(()=>[l("mdi-account")]),_:1})]),_:2},1040)]),default:e(()=>[t(d,{"min-width":"300"},{default:e(()=>[t(M),t(U,null,{default:e(()=>[b("div",null,[b("div",_e,u(_.$page.props.auth.user.name),1),b("div",ve,u(_.$page.props.auth.user.email),1)])]),_:1}),t(V,null,{default:e(()=>[t(S),t(w,{variant:"text",onClick:r[0]||(r[0]=n=>_.menu=!1)},{default:e(()=>[l("Close")]),_:1}),b("form",{method:"POST",onSubmit:r[1]||(r[1]=ee((...n)=>v.logout&&v.logout(...n),["prevent"]))},[t(w,{color:"primary",variant:"text",type:"submit"},{default:e(()=>[t(g,{left:""},{default:e(()=>[l("mdi-exit-to-app")]),_:1}),l(" Sign out ")]),_:1})],32)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const he=j(me,[["render",fe]]),ge={key:0,class:"smart-icon-menu"},ye={class:"icon-label"},ke={key:0,class:"notification-badge"},be={class:"message-header"},we={class:"message-time"},xe={key:0,class:"message-status"},Ce={__name:"ChatBox",setup(_){const r=h([{id:"sms",name:"SMS",icon:"mdi-message-text",color:"indigo",unread:2,status:"online"},{id:"email",name:"Email",icon:"mdi-email",color:"blue",unread:0,status:"online"},{id:"whatsapp",name:"WhatsApp",icon:"mdi-whatsapp",color:"green",unread:5,status:"online"},{id:"telegram",name:"Telegram",icon:"mdi-telegram",color:"light-blue",unread:0,status:"offline"}]),p=h(!1),I=h(!1),c=h(r.value[0]),v=h(""),g=h([{id:1,channelId:"sms",text:"Hello! How can I help you?",type:"ai",timestamp:Date.now()-36e5},{id:2,channelId:"whatsapp",text:"Hi there! Any updates on my order?",type:"user",timestamp:Date.now()-18e5,status:"read"},{id:3,channelId:"whatsapp",text:"Yes, your order #12345 has been shipped and will arrive tomorrow.",type:"ai",timestamp:Date.now()-179e4},{id:4,channelId:"sms",text:"Do you have any promotions this week?",type:"user",timestamp:Date.now()-9e5,status:"sent"}]),w=T(()=>g.value.filter(d=>d.channelId===c.value.id)),M=()=>{p.value=!p.value,p.value||(I.value=!1)},U=d=>{c.value=d,p.value=!1,I.value=!0,d.unread=0},S=async()=>{if(!v.value)return;const d={id:Date.now(),channelId:c.value.id,text:v.value,type:"user",timestamp:Date.now(),status:"sent"};g.value.push(d);const y=await new Promise(n=>{setTimeout(()=>{n({reply:`This is a response via ${c.value.name}`})},500)});g.value.push({id:Date.now(),channelId:c.value.id,text:y.reply,type:"ai",timestamp:Date.now()}),setTimeout(()=>{const n=g.value.find(a=>a.id===d.id);n&&(n.status="read")},1e3),v.value=""},V=d=>new Date(d).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(d,y)=>{const n=o("v-icon"),a=o("v-btn"),x=o("v-spacer"),C=o("v-chip"),A=o("v-card-title"),B=o("v-divider"),R=o("v-card-text"),z=o("v-text-field"),E=o("v-card-actions"),N=o("v-card"),G=o("v-container");return s(),f(G,null,{default:e(()=>[t(a,{fab:"",color:"primary",class:"smart-icon-button",onClick:M},{default:e(()=>[p.value?(s(),f(n,{key:1},{default:e(()=>[l("mdi-close")]),_:1})):(s(),f(n,{key:0},{default:e(()=>[l(u(c.value.icon),1)]),_:1}))]),_:1}),p.value?(s(),k("div",ge,[(s(!0),k(P,null,O(r.value,i=>(s(),f(a,{key:i.id,fab:"",small:"",color:i.color,class:"channel-icon",onClick:H=>U(i)},{default:e(()=>[t(n,null,{default:e(()=>[l(u(i.icon),1)]),_:2},1024),b("span",ye,u(i.name),1),i.unread?(s(),k("div",ke,u(i.unread),1)):D("",!0)]),_:2},1032,["color","onClick"]))),128))])):D("",!0),I.value?(s(),f(N,{key:1,class:"chat-box"},{default:e(()=>[t(A,null,{default:e(()=>[t(n,{left:""},{default:e(()=>[l(u(c.value.icon),1)]),_:1}),l(" "+u(c.value.name)+" ",1),t(x),c.value.status==="online"?(s(),f(C,{key:0,small:"",color:"success"},{default:e(()=>[l("Online")]),_:1})):(s(),f(C,{key:1,small:"",color:"error"},{default:e(()=>[l("Offline")]),_:1}))]),_:1}),t(B),t(R,{class:"chat-messages"},{default:e(()=>[(s(!0),k(P,null,O(w.value,i=>(s(),k("div",{key:i.id,class:oe(["chat-message",i.type])},[b("div",be,[b("span",we,u(V(i.timestamp)),1)]),b("p",null,u(i.text),1),i.status?(s(),k("div",xe,[t(n,{"x-small":""},{default:e(()=>[l(u(i.status==="read"?"mdi-check-all":"mdi-check"),1)]),_:2},1024)])):D("",!0)],2))),128))]),_:1}),t(B),t(E,{class:"message-input"},{default:e(()=>[t(a,{icon:"",small:""},{default:e(()=>[t(n,null,{default:e(()=>[l("mdi-paperclip")]),_:1})]),_:1}),t(z,{modelValue:v.value,"onUpdate:modelValue":y[0]||(y[0]=i=>v.value=i),label:`Message via ${c.value.name}...`,onKeyup:ne(S,["enter"]),"hide-details":"",dense:""},null,8,["modelValue","label"]),t(a,{icon:"",color:"primary",onClick:S},{default:e(()=>[t(n,null,{default:e(()=>[l("mdi-send")]),_:1})]),_:1})]),_:1})]),_:1})):D("",!0)]),_:1})}}},Ie=j(Ce,[["__scopeId","data-v-db23db96"]]),$e=_=>(re("data-v-a60f5a88"),_=_(),ce(),_),Se=$e(()=>b("img",{src:"/assets/img/logo.png",alt:"Boxleo Logo",class:"sidebar-logo",width:"150"},null,-1)),Ve={__name:"AppLayout",setup(_){const r=h(!0),p=h([]),I=h(!1),c=h(""),v=h(null),g=T(()=>L().props.value.user.roles),w=T(()=>L().props.value.user.permissions),M=T(()=>L().props.value.user.token),U=T(()=>L().props.value.user.id);ae(()=>{console.log("User Roles:",g.value),console.log("User Permissions:",w.value),console.log("User Token:",M.value),console.log("User Id:",U.value)});const S=n=>{const a=p.value.indexOf(n);a===-1?p.value.push(n):p.value.splice(a,1)},V=n=>p.value.includes(n),d=se([{title:"Dashboard",icon:"mdi-view-dashboard",items:[{route:"dashboard",icon:"mdi-view-dashboard-outline",title:"Dashboard"}]},{title:"Call Center",icon:"mdi-file-document-outline",items:[{route:"call-centre",icon:"mdi-headset",title:"Call Centre"},{route:"tickets",icon:"mdi-ticket-outline",title:"Tickets"},{route:"messages",icon:"mdi-message-text-outline",title:"Messages"},{route:"whatsapp",icon:"mdi-whatsapp",title:"WhatsApp"},{route:"emails",icon:"mdi-email-outline",title:"Emails"},{route:"clients",icon:"mdi-account-multiple-outline",title:"Clients"},{route:"contacts",icon:"mdi-phone-outline",title:"Contacts"},{route:"telegram",icon:"mdi-telegram",title:"Telegram"},{route:"notes",icon:"mdi-note-text-outline",title:"Notes"}]},{title:"Users",icon:"mdi-account-circle-outline",items:[{route:"user",icon:"mdi-account-group-outline",title:"User"},{route:"user-roles",icon:"mdi-account-key-outline",title:"User Roles"},{route:"permissions",icon:"mdi-account-key-outline",title:"Permissions"}]},{title:"Reports",icon:"mdi-chart-box-outline",items:[{route:"reports",icon:"mdi-account-key-outline",title:"Reports"}]},{title:"Branches",icon:"mdi-map-marker-outline",items:[{route:"branches",icon:"mdi-map-marker-radius-outline",title:"Branches",permission:"view branches"}]},{title:"Settings",icon:"mdi-cog-outline",items:[{route:"ivr-options",icon:"mdi-cog-outline",title:"IvrOptions"},{route:"integrations",icon:"mdi-puzzle",title:"Integrations"},{route:"template",icon:"mdi-file-outline",title:"Template"}]}]),y=T(()=>d.filter(n=>(n.items=n.items.filter(a=>{const x=a.permission?w.value.includes(a.permission):!0,C=a.role?g.value.includes(a.role):!0;return x&&C}),n.items.length>0)));return(n,a)=>{const x=o("v-list-item"),C=o("v-icon"),A=o("v-list-item-title"),B=o("v-list-group"),R=o("v-list"),z=o("v-navigation-drawer"),E=o("v-app-bar-nav-icon"),N=o("v-toolbar-title"),G=o("v-spacer"),i=o("v-chip"),H=o("v-btn"),K=o("v-badge"),W=o("v-app-bar"),q=o("v-progress-circular"),J=o("v-overlay"),Q=o("v-main"),Y=o("v-app");return s(),f(Y,null,{default:e(()=>[t(z,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=m=>r.value=m),app:"",color:"white",width:"300"},{default:e(()=>[t(x,null,{default:e(()=>[Se]),_:1}),t(R,{density:"compact",id:"layout"},{default:e(()=>[(s(!0),k(P,null,O(y.value,(m,X)=>(s(),f(x,{key:X},{default:e(()=>[t(B,{value:m.title,color:"info","prepend-icon":m.icon,open:V(m.title),onClick:$=>S(m.title)},{activator:e(({props:$})=>[t(x,F($,{title:m.title}),null,16,["title"])]),default:e(()=>[V(m.title)?(s(!0),k(P,{key:0},O(m.items,($,Z)=>(s(),f(ie(ue),{key:Z,href:n.route($.route),class:"text-decoration-none"},{default:e(()=>[t(x,{value:$.route,color:"info"},{prepend:e(()=>[t(C,null,{default:e(()=>[l(u($.icon),1)]),_:2},1024)]),default:e(()=>[t(A,null,{default:e(()=>[l(u($.title),1)]),_:2},1024)]),_:2},1032,["value"])]),_:2},1032,["href"]))),128)):D("",!0)]),_:2},1032,["value","prepend-icon","open","onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),t(W,{app:""},{default:e(()=>[t(E,{onClick:a[1]||(a[1]=m=>r.value=!r.value)}),t(N,null,{default:e(()=>[l("Customer Support System")]),_:1}),t(G),c.value?(s(),f(i,{key:0,color:v.value?"error":"success",class:"mx-2"},{default:e(()=>[l(u(v.value||c.value),1)]),_:1},8,["color"])):D("",!0),t(he),t(H,{icon:"",onClick:a[2]||(a[2]=m=>n.$vuetify.theme.dark=!n.$vuetify.theme.dark)},{default:e(()=>[t(C,null,{default:e(()=>[l(u(n.$vuetify.theme.dark?"mdi-weather-night":"mdi-white-balance-sunny"),1)]),_:1})]),_:1}),t(H,{icon:"mdi-bell"},{default:e(()=>[t(K,{dot:"",color:"error"},{default:e(()=>[t(C,null,{default:e(()=>[l("mdi-bell")]),_:1})]),_:1})]),_:1})]),_:1}),t(Q,null,{default:e(()=>[t(J,{modelValue:I.value,"onUpdate:modelValue":a[3]||(a[3]=m=>I.value=m),class:"align-center justify-center"},{default:e(()=>[t(q,{indeterminate:""})]),_:1},8,["modelValue"]),le(n.$slots,"default",{},void 0,!0),t(Ie)]),_:3})]),_:3})}}},Me=j(Ve,[["__scopeId","data-v-a60f5a88"]]);export{Me as A};
