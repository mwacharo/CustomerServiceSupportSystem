import{i as o,o as a,d as b,b as t,w as e,E as K,f as l,a as k,t as r,h as ee,W as te,r as h,k as D,c as f,F as O,g as P,e as M,n as oe,x as ne,B as L,A as se,H as ae,q as le,u as ie,X as re,p as ue,j as ce}from"./app-DLaO8MPJ.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const de=()=>{te.Inertia.post(route("logout"))},me={data:()=>({fav:!0,menu:!1,message:!1,hints:!0}),methods:{logout:de}},_e={class:"text-center"},pe={class:"font-medium text-base text-gray-800"},ve={class:"font-medium text-sm text-gray-500"};function fe(p,u,_,I,c,v){const g=o("v-icon"),w=o("v-btn"),U=o("v-divider"),B=o("v-list"),V=o("v-spacer"),S=o("v-card-actions"),d=o("v-card"),y=o("v-menu");return a(),b("div",_e,[t(y,{modelValue:p.menu,"onUpdate:modelValue":u[2]||(u[2]=n=>p.menu=n),"close-on-content-click":!1,location:"top"},{activator:e(({props:n})=>[t(w,K({color:"indigo"},n),{default:e(()=>[t(g,{left:""},{default:e(()=>[l("mdi-account")]),_:1})]),_:2},1040)]),default:e(()=>[t(d,{"min-width":"300"},{default:e(()=>[t(U),t(B,null,{default:e(()=>[k("div",null,[k("div",pe,r(p.$page.props.auth.user.name),1),k("div",ve,r(p.$page.props.auth.user.email),1)])]),_:1}),t(S,null,{default:e(()=>[t(V),t(w,{variant:"text",onClick:u[0]||(u[0]=n=>p.menu=!1)},{default:e(()=>[l("Close")]),_:1}),k("form",{method:"POST",onSubmit:u[1]||(u[1]=ee((...n)=>v.logout&&v.logout(...n),["prevent"]))},[t(w,{color:"primary",variant:"text",type:"submit"},{default:e(()=>[t(g,{left:""},{default:e(()=>[l("mdi-exit-to-app")]),_:1}),l(" Sign out ")]),_:1})],32)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const he=F(me,[["render",fe]]),ge={key:0,class:"smart-icon-menu"},ye={class:"icon-label"},be={key:0,class:"notification-badge"},ke={class:"message-header"},we={class:"message-time"},xe={key:0,class:"message-status"},Ce={__name:"ChatBox",setup(p){const u=h([{id:"sms",name:"SMS",icon:"mdi-message-text",color:"indigo",unread:2,status:"online"},{id:"email",name:"Email",icon:"mdi-email",color:"blue",unread:0,status:"online"},{id:"whatsapp",name:"WhatsApp",icon:"mdi-whatsapp",color:"green",unread:5,status:"online"},{id:"telegram",name:"Telegram",icon:"mdi-telegram",color:"light-blue",unread:0,status:"offline"}]),_=h(!1),I=h(!1),c=h(u.value[0]),v=h(""),g=h([{id:1,channelId:"sms",text:"Hello! How can I help you?",type:"ai",timestamp:Date.now()-36e5},{id:2,channelId:"whatsapp",text:"Hi there! Any updates on my order?",type:"user",timestamp:Date.now()-18e5,status:"read"},{id:3,channelId:"whatsapp",text:"Yes, your order #12345 has been shipped and will arrive tomorrow.",type:"ai",timestamp:Date.now()-179e4},{id:4,channelId:"sms",text:"Do you have any promotions this week?",type:"user",timestamp:Date.now()-9e5,status:"sent"}]),w=D(()=>g.value.filter(d=>d.channelId===c.value.id)),U=()=>{_.value=!_.value,_.value||(I.value=!1)},B=d=>{c.value=d,_.value=!1,I.value=!0,d.unread=0},V=async()=>{if(!v.value)return;const d={id:Date.now(),channelId:c.value.id,text:v.value,type:"user",timestamp:Date.now(),status:"sent"};g.value.push(d);const y=await new Promise(n=>{setTimeout(()=>{n({reply:`This is a response via ${c.value.name}`})},500)});g.value.push({id:Date.now(),channelId:c.value.id,text:y.reply,type:"ai",timestamp:Date.now()}),setTimeout(()=>{const n=g.value.find(s=>s.id===d.id);n&&(n.status="read")},1e3),v.value=""},S=d=>new Date(d).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(d,y)=>{const n=o("v-icon"),s=o("v-btn"),x=o("v-spacer"),C=o("v-chip"),A=o("v-card-title"),T=o("v-divider"),R=o("v-card-text"),E=o("v-text-field"),H=o("v-card-actions"),G=o("v-card"),N=o("v-container");return a(),f(N,null,{default:e(()=>[t(s,{fab:"",color:"primary",class:"smart-icon-button",onClick:U},{default:e(()=>[_.value?(a(),f(n,{key:1},{default:e(()=>[l("mdi-close")]),_:1})):(a(),f(n,{key:0},{default:e(()=>[l(r(c.value.icon),1)]),_:1}))]),_:1}),_.value?(a(),b("div",ge,[(a(!0),b(O,null,P(u.value,i=>(a(),f(s,{key:i.id,fab:"",small:"",color:i.color,class:"channel-icon",onClick:j=>B(i)},{default:e(()=>[t(n,null,{default:e(()=>[l(r(i.icon),1)]),_:2},1024),k("span",ye,r(i.name),1),i.unread?(a(),b("div",be,r(i.unread),1)):M("",!0)]),_:2},1032,["color","onClick"]))),128))])):M("",!0),I.value?(a(),f(G,{key:1,class:"chat-box"},{default:e(()=>[t(A,null,{default:e(()=>[t(n,{left:""},{default:e(()=>[l(r(c.value.icon),1)]),_:1}),l(" "+r(c.value.name)+" ",1),t(x),c.value.status==="online"?(a(),f(C,{key:0,small:"",color:"success"},{default:e(()=>[l("Online")]),_:1})):(a(),f(C,{key:1,small:"",color:"error"},{default:e(()=>[l("Offline")]),_:1}))]),_:1}),t(T),t(R,{class:"chat-messages"},{default:e(()=>[(a(!0),b(O,null,P(w.value,i=>(a(),b("div",{key:i.id,class:oe(["chat-message",i.type])},[k("div",ke,[k("span",we,r(S(i.timestamp)),1)]),k("p",null,r(i.text),1),i.status?(a(),b("div",xe,[t(n,{"x-small":""},{default:e(()=>[l(r(i.status==="read"?"mdi-check-all":"mdi-check"),1)]),_:2},1024)])):M("",!0)],2))),128))]),_:1}),t(T),t(H,{class:"message-input"},{default:e(()=>[t(s,{icon:"",small:""},{default:e(()=>[t(n,null,{default:e(()=>[l("mdi-paperclip")]),_:1})]),_:1}),t(E,{modelValue:v.value,"onUpdate:modelValue":y[0]||(y[0]=i=>v.value=i),label:`Message via ${c.value.name}...`,onKeyup:ne(V,["enter"]),"hide-details":"",dense:""},null,8,["modelValue","label"]),t(s,{icon:"",color:"primary",onClick:V},{default:e(()=>[t(n,null,{default:e(()=>[l("mdi-send")]),_:1})]),_:1})]),_:1})]),_:1})):M("",!0)]),_:1})}}},Ie=F(Ce,[["__scopeId","data-v-db23db96"]]),$e=p=>(ue("data-v-6f06b016"),p=p(),ce(),p),Ve=$e(()=>k("img",{src:"/assets/img/logo.png",alt:"Boxleo Logo",class:"sidebar-logo",width:"150"},null,-1)),Se={__name:"AppLayout",setup(p){const u=h(!0),_=h([]),I=h(!1),c=h(""),v=h(null),g=D(()=>L().props.value.user.roles),w=D(()=>L().props.value.user.permissions),U=D(()=>L().props.value.user.token),B=D(()=>L().props.value.user.id);se(()=>{console.log("User Roles:",g.value),console.log("User Permissions:",w.value),console.log("User Token:",U.value),console.log("User Id:",B.value)});const V=n=>{const s=_.value.indexOf(n);s===-1?_.value.push(n):_.value.splice(s,1)},S=n=>_.value.includes(n),d=ae([{title:"Dashboard",icon:"mdi-view-dashboard",items:[{route:"dashboard",icon:"mdi-view-dashboard-outline",title:"Dashboard"}]},{title:"Call Center",icon:"mdi-file-document-outline",items:[{route:"orders",icon:"mdi-file-document-multiple-outline",title:"Orders"}]},{title:"Users",icon:"mdi-account-circle-outline",items:[{route:"user",icon:"mdi-account-group-outline",title:"User"},{route:"user-roles",icon:"mdi-account-key-outline",title:"User Roles"},{route:"permissions",icon:"mdi-account-key-outline",title:"Permissions"}]},{title:"Reports",icon:"mdi-chart-box-outline",items:[{route:"reports",icon:"mdi-account-key-outline",title:"Reports"}]},{title:"Branches",icon:"mdi-map-marker-outline",items:[{route:"branches",icon:"mdi-map-marker-radius-outline",title:"Branches",permission:"view branches"}]},{title:"Settings",icon:"mdi-cog-outline",items:[{route:"ivr-options",icon:"mdi-cog-outline",title:"IvrOptions"}]}]),y=D(()=>d.filter(n=>(n.items=n.items.filter(s=>{const x=s.permission?w.value.includes(s.permission):!0,C=s.role?g.value.includes(s.role):!0;return x&&C}),n.items.length>0)));return(n,s)=>{const x=o("v-list-item"),C=o("v-icon"),A=o("v-list-item-title"),T=o("v-list-group"),R=o("v-list"),E=o("v-navigation-drawer"),H=o("v-app-bar-nav-icon"),G=o("v-toolbar-title"),N=o("v-spacer"),i=o("v-chip"),j=o("v-btn"),W=o("v-badge"),q=o("v-app-bar"),z=o("v-progress-circular"),X=o("v-overlay"),Y=o("v-main"),J=o("v-app");return a(),f(J,null,{default:e(()=>[t(E,{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=m=>u.value=m),app:"",color:"white",width:"300"},{default:e(()=>[t(x,null,{default:e(()=>[Ve]),_:1}),t(R,{density:"compact",id:"layout"},{default:e(()=>[(a(!0),b(O,null,P(y.value,(m,Q)=>(a(),f(x,{key:Q},{default:e(()=>[t(T,{value:m.title,color:"info","prepend-icon":m.icon,open:S(m.title),onClick:$=>V(m.title)},{activator:e(({props:$})=>[t(x,K($,{title:m.title}),null,16,["title"])]),default:e(()=>[S(m.title)?(a(!0),b(O,{key:0},P(m.items,($,Z)=>(a(),f(ie(re),{key:Z,href:n.route($.route),class:"text-decoration-none"},{default:e(()=>[t(x,{value:$.route,color:"info"},{prepend:e(()=>[t(C,null,{default:e(()=>[l(r($.icon),1)]),_:2},1024)]),default:e(()=>[t(A,null,{default:e(()=>[l(r($.title),1)]),_:2},1024)]),_:2},1032,["value"])]),_:2},1032,["href"]))),128)):M("",!0)]),_:2},1032,["value","prepend-icon","open","onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),t(q,{app:""},{default:e(()=>[t(H,{onClick:s[1]||(s[1]=m=>u.value=!u.value)}),t(G,null,{default:e(()=>[l("Customer Support System")]),_:1}),t(N),c.value?(a(),f(i,{key:0,color:v.value?"error":"success",class:"mx-2"},{default:e(()=>[l(r(v.value||c.value),1)]),_:1},8,["color"])):M("",!0),t(he),t(j,{icon:"",onClick:s[2]||(s[2]=m=>n.$vuetify.theme.dark=!n.$vuetify.theme.dark)},{default:e(()=>[t(C,null,{default:e(()=>[l(r(n.$vuetify.theme.dark?"mdi-weather-night":"mdi-white-balance-sunny"),1)]),_:1})]),_:1}),t(j,{icon:"mdi-bell"},{default:e(()=>[t(W,{dot:"",color:"error"},{default:e(()=>[t(C,null,{default:e(()=>[l("mdi-bell")]),_:1})]),_:1})]),_:1})]),_:1}),t(Y,null,{default:e(()=>[t(X,{modelValue:I.value,"onUpdate:modelValue":s[3]||(s[3]=m=>I.value=m),class:"align-center justify-center"},{default:e(()=>[t(z,{indeterminate:""})]),_:1},8,["modelValue"]),le(n.$slots,"default",{},void 0,!0),t(Ie)]),_:3})]),_:3})}}},Ue=F(Se,[["__scopeId","data-v-6f06b016"]]);export{Ue as A};
