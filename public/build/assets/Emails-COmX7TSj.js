import{Z as X}from"./index.esm-D--DPZy3.js";import{A as ee}from"./AppLayout-CsXfrR7a.js";import{r as i,y as te,i as s,o as x,c as H,w as t,b as e,u as le,f as o,t as u,a as n,d as N,g as ae,F as ne}from"./app-BfcNgRga.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const oe=n("h2",{class:"text-h6"},"Email Marketing",-1),se=n("div",{class:"text-subtitle-2"},"Sent",-1),ue={class:"text-h6"},ie=n("div",{class:"text-subtitle-2"},"Delivered",-1),de={class:"text-h6"},ce=n("div",{class:"text-subtitle-2"},"Opened",-1),me={class:"text-h6"},re=n("div",{class:"text-subtitle-2"},"Failed",-1),ve={class:"text-h6"},pe=n("div",null,"Email History",-1),_e=n("thead",null,[n("tr",null,[n("th",null,"Subject"),n("th",null,"Recipients"),n("th",null,"Status"),n("th",null,"Attachments"),n("th",null,"Sent Date"),n("th",null,"Actions")])],-1),fe={key:1},xe={__name:"Emails",setup(be){const z=i(""),g=i([]),B=i([]),r=i([]),v=i(""),p=i(""),f=i([]),S=i(!1),b=i(!1),h=i(!1),C=i([]),m=i({name:"",subject:"",content:""}),M=i("Connected"),j=i({sent:234,delivered:228,opened:156,failed:6}),q=()=>{B.value=[{id:1,name:"John Doe",email:"john.doe@example.com",status:"Active"},{id:2,name:"Jane Smith",email:"jane.smith@example.com",status:"Active"},{id:3,name:"Robert Brown",email:"robert.brown@example.com",status:"Inactive"},{id:4,name:"Sarah Wilson",email:"sarah.wilson@example.com",status:"Active"}]},J=()=>{f.value=[{id:1,name:"Welcome Email",subject:"Welcome to Our Service",content:`Hello {{name}},

Welcome to our service! We are excited to have you on board.

Best regards,
The Team`},{id:2,name:"Payment Reminder",subject:"Payment Reminder: Invoice #{{invoice_number}}",content:`Dear {{name}},

This is a friendly reminder about your payment of KES {{amount}} due on {{date}}.

Regards,
Finance Department`},{id:3,name:"Monthly Newsletter",subject:"Your Monthly Update - {{month}}",content:`Hello {{name}},

Here are the latest updates for {{month}}:

{{news_items}}

Thank you for your continued support.

Best regards,
Marketing Team`}]},L=d=>{v.value=d.subject,p.value=d.content},P=()=>{f.value.push({id:f.value.length+1,...m.value}),m.value={name:"",subject:"",content:""},h.value=!1},K=()=>{alert(`Sending email to ${r.value.length} recipients`);const d=new Date;g.value.unshift({id:g.value.length+1,subject:v.value,content:p.value,recipients:r.value.length,status:"Sent",has_attachments:C.value.length>0,sent_at:d.toISOString().slice(0,10)}),v.value="",p.value="",r.value=[],C.value=[],b.value=!1};return te(()=>{g.value=[{id:1,subject:"April Newsletter",content:"Monthly newsletter content...",recipients:153,status:"Delivered",has_attachments:!0,sent_at:"2025-04-19"},{id:2,subject:"System Maintenance Notice",content:"Notification about planned downtime...",recipients:98,status:"Sent",has_attachments:!1,sent_at:"2025-04-18"},{id:3,subject:"New Features Announcement",content:"Announcement about new platform features...",recipients:215,status:"Delivered",has_attachments:!0,sent_at:"2025-04-17"},{id:4,subject:"Account Verification Required",content:"Security verification reminder...",recipients:5,status:"Opened",has_attachments:!1,sent_at:"2025-04-16"}],q(),J()}),(d,a)=>{const y=s("v-icon"),Y=s("v-avatar"),T=s("v-chip"),I=s("v-divider"),_=s("v-col"),R=s("v-row"),c=s("v-btn"),V=s("v-card-text"),w=s("v-card"),k=s("v-text-field"),E=s("v-card-title"),Z=s("v-table"),G=s("v-container"),$=s("v-select"),F=s("v-textarea"),O=s("v-file-input"),U=s("v-spacer"),A=s("v-card-actions"),D=s("v-dialog"),W=s("v-alert");return x(),H(ee,null,{default:t(()=>[e(le(X),{title:"Email"}),e(G,null,{default:t(()=>[e(R,null,{default:t(()=>[e(_,{cols:"12",md:"3"},{default:t(()=>[e(w,null,{default:t(()=>[e(V,{class:"text-center"},{default:t(()=>[e(Y,{size:"80",color:"blue",class:"mb-3"},{default:t(()=>[e(y,{size:"48",color:"white"},{default:t(()=>[o("mdi-email")]),_:1})]),_:1}),oe,e(T,{color:M.value==="Connected"?"success":"error",class:"mt-2"},{default:t(()=>[o(u(M.value),1)]),_:1},8,["color"]),e(I,{class:"my-4"}),e(R,null,{default:t(()=>[e(_,{cols:"6",class:"py-1"},{default:t(()=>[se,n("div",ue,u(j.value.sent),1)]),_:1}),e(_,{cols:"6",class:"py-1"},{default:t(()=>[ie,n("div",de,u(j.value.delivered),1)]),_:1}),e(_,{cols:"6",class:"py-1"},{default:t(()=>[ce,n("div",me,u(j.value.opened),1)]),_:1}),e(_,{cols:"6",class:"py-1"},{default:t(()=>[re,n("div",ve,u(j.value.failed),1)]),_:1})]),_:1}),e(I,{class:"my-4"}),e(c,{color:"primary",block:"",onClick:a[0]||(a[0]=l=>b.value=!0)},{default:t(()=>[o(" New Email ")]),_:1}),e(c,{color:"secondary",block:"",class:"mt-2",onClick:a[1]||(a[1]=l=>h.value=!0)},{default:t(()=>[o(" Create Template ")]),_:1}),e(c,{color:"info",block:"",class:"mt-2",onClick:a[2]||(a[2]=l=>S.value=!0)},{default:t(()=>[o(" Import Contacts ")]),_:1})]),_:1})]),_:1})]),_:1}),e(_,{cols:"12",md:"9"},{default:t(()=>[e(w,null,{default:t(()=>[e(E,{class:"d-flex justify-space-between align-center"},{default:t(()=>[pe,e(k,{modelValue:z.value,"onUpdate:modelValue":a[3]||(a[3]=l=>z.value=l),"append-icon":"mdi-magnify",label:"Search emails","single-line":"","hide-details":"",density:"compact",class:"max-w-xs"},null,8,["modelValue"])]),_:1}),e(V,null,{default:t(()=>[e(Z,null,{default:t(()=>[_e,n("tbody",null,[(x(!0),N(ne,null,ae(g.value,l=>(x(),N("tr",{key:l.id},[n("td",null,u(l.subject),1),n("td",null,u(l.recipients),1),n("td",null,[e(T,{color:l.status==="Delivered"?"success":l.status==="Opened"?"info":"warning",size:"small"},{default:t(()=>[o(u(l.status),1)]),_:2},1032,["color"])]),n("td",null,[l.has_attachments?(x(),H(y,{key:0,color:"grey"},{default:t(()=>[o("mdi-paperclip")]),_:1})):(x(),N("span",fe,"-"))]),n("td",null,u(l.sent_at),1),n("td",null,[e(c,{icon:"",size:"small",color:"primary",variant:"text"},{default:t(()=>[e(y,null,{default:t(()=>[o("mdi-refresh")]),_:1})]),_:1}),e(c,{icon:"",size:"small",color:"info",variant:"text"},{default:t(()=>[e(y,null,{default:t(()=>[o("mdi-eye")]),_:1})]),_:1}),e(c,{icon:"",size:"small",color:"error",variant:"text"},{default:t(()=>[e(y,null,{default:t(()=>[o("mdi-delete")]),_:1})]),_:1})])]))),128))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(D,{modelValue:b.value,"onUpdate:modelValue":a[10]||(a[10]=l=>b.value=l),"max-width":"800px"},{default:t(()=>[e(w,null,{default:t(()=>[e(E,null,{default:t(()=>[o("Compose Email")]),_:1}),e(V,null,{default:t(()=>[e($,{modelValue:r.value,"onUpdate:modelValue":a[4]||(a[4]=l=>r.value=l),items:B.value,"item-title":"name","item-value":"id",label:"Select Recipients",multiple:"",chips:"","return-object":""},{selection:t(({item:l})=>[e(T,null,{default:t(()=>[o(u(l.raw.name)+" ("+u(l.raw.email)+")",1)]),_:2},1024)]),_:1},8,["modelValue","items"]),e($,{label:"Select Template",items:f.value,"item-title":"name","item-value":"id","onUpdate:modelValue":a[5]||(a[5]=l=>L(f.value.find(Q=>Q.id===l))),class:"mt-4"},null,8,["items"]),e(k,{modelValue:v.value,"onUpdate:modelValue":a[6]||(a[6]=l=>v.value=l),label:"Subject",class:"mt-4"},null,8,["modelValue"]),e(F,{modelValue:p.value,"onUpdate:modelValue":a[7]||(a[7]=l=>p.value=l),label:"Message",rows:"10",class:"mt-4",hint:"Variables format: {{variable_name}}","persistent-hint":""},null,8,["modelValue"]),e(O,{modelValue:C.value,"onUpdate:modelValue":a[8]||(a[8]=l=>C.value=l),label:"Attachments",multiple:"","prepend-icon":"mdi-paperclip","show-size":"","truncate-length":"25",class:"mt-4"},null,8,["modelValue"])]),_:1}),e(A,null,{default:t(()=>[e(U),e(c,{color:"error",onClick:a[9]||(a[9]=l=>b.value=!1)},{default:t(()=>[o("Cancel")]),_:1}),e(c,{color:"primary",onClick:K,disabled:!v.value||!p.value||r.value.length===0},{default:t(()=>[o(" Send Email ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(D,{modelValue:S.value,"onUpdate:modelValue":a[12]||(a[12]=l=>S.value=l),"max-width":"500px"},{default:t(()=>[e(w,null,{default:t(()=>[e(E,null,{default:t(()=>[o("Import Email Contacts")]),_:1}),e(V,null,{default:t(()=>[e(O,{label:"Upload CSV File",accept:".csv","prepend-icon":"mdi-file-upload","show-size":"","truncate-length":"25"}),e(W,{type:"info",class:"mt-4"},{default:t(()=>[o(" CSV file should have columns: Name, Email Address, Status ")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(U),e(c,{color:"error",onClick:a[11]||(a[11]=l=>S.value=!1)},{default:t(()=>[o("Cancel")]),_:1}),e(c,{color:"primary"},{default:t(()=>[o("Import")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(D,{modelValue:h.value,"onUpdate:modelValue":a[17]||(a[17]=l=>h.value=l),"max-width":"700px"},{default:t(()=>[e(w,null,{default:t(()=>[e(E,null,{default:t(()=>[o("Create Email Template")]),_:1}),e(V,null,{default:t(()=>[e(k,{modelValue:m.value.name,"onUpdate:modelValue":a[13]||(a[13]=l=>m.value.name=l),label:"Template Name",required:""},null,8,["modelValue"]),e(k,{modelValue:m.value.subject,"onUpdate:modelValue":a[14]||(a[14]=l=>m.value.subject=l),label:"Email Subject",required:"",class:"mt-4"},null,8,["modelValue"]),e(F,{modelValue:m.value.content,"onUpdate:modelValue":a[15]||(a[15]=l=>m.value.content=l),label:"Email Content",rows:"10",hint:"Use {{variable_name}} for dynamic content","persistent-hint":"",class:"mt-4"},null,8,["modelValue"]),e(W,{type:"info",class:"mt-4"},{default:t(()=>[o(" Available variables: "+u(d.name)+", "+u(d.email)+", "+u(d.amount)+", "+u(d.date)+", "+u(d.invoice_number)+", "+u(d.month)+", "+u(d.news_items),1)]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(U),e(c,{color:"error",onClick:a[16]||(a[16]=l=>h.value=!1)},{default:t(()=>[o("Cancel")]),_:1}),e(c,{color:"primary",onClick:P,disabled:!m.value.name||!m.value.subject||!m.value.content},{default:t(()=>[o(" Save Template ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}};export{xe as default};
